(()=>{var __webpack_modules__={7351:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};Object.defineProperty(r,"__esModule",{value:true});r.issue=r.issueCommand=void 0;const l=u(i(2037));const c=i(5278);function issueCommand(t,r,i){const o=new Command(t,r,i);process.stdout.write(o.toString()+l.EOL)}r.issueCommand=issueCommand;function issue(t,r=""){issueCommand(t,{},r)}r.issue=issue;const d="::";class Command{constructor(t,r,i){if(!t){t="missing.command"}this.command=t;this.properties=r;this.message=i}toString(){let t=d+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=true;for(const i in this.properties){if(this.properties.hasOwnProperty(i)){const o=this.properties[i];if(o){if(r){r=false}else{t+=","}t+=`${i}=${escapeProperty(o)}`}}}}t+=`${d}${escapeData(this.message)}`;return t}}function escapeData(t){return c.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(t){return c.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.getIDToken=r.getState=r.saveState=r.group=r.endGroup=r.startGroup=r.info=r.notice=r.warning=r.error=r.debug=r.isDebug=r.setFailed=r.setCommandEcho=r.setOutput=r.getBooleanInput=r.getMultilineInput=r.getInput=r.addPath=r.setSecret=r.exportVariable=r.ExitCode=void 0;const c=i(7351);const d=i(717);const h=i(5278);const p=u(i(2037));const m=u(i(1017));const _=i(8041);var g;(function(t){t[t["Success"]=0]="Success";t[t["Failure"]=1]="Failure"})(g=r.ExitCode||(r.ExitCode={}));function exportVariable(t,r){const i=h.toCommandValue(r);process.env[t]=i;const o=process.env["GITHUB_ENV"]||"";if(o){return d.issueFileCommand("ENV",d.prepareKeyValueMessage(t,r))}c.issueCommand("set-env",{name:t},i)}r.exportVariable=exportVariable;function setSecret(t){c.issueCommand("add-mask",{},t)}r.setSecret=setSecret;function addPath(t){const r=process.env["GITHUB_PATH"]||"";if(r){d.issueFileCommand("PATH",t)}else{c.issueCommand("add-path",{},t)}process.env["PATH"]=`${t}${m.delimiter}${process.env["PATH"]}`}r.addPath=addPath;function getInput(t,r){const i=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!i){throw new Error(`Input required and not supplied: ${t}`)}if(r&&r.trimWhitespace===false){return i}return i.trim()}r.getInput=getInput;function getMultilineInput(t,r){const i=getInput(t,r).split("\n").filter((t=>t!==""));if(r&&r.trimWhitespace===false){return i}return i.map((t=>t.trim()))}r.getMultilineInput=getMultilineInput;function getBooleanInput(t,r){const i=["true","True","TRUE"];const o=["false","False","FALSE"];const a=getInput(t,r);if(i.includes(a))return true;if(o.includes(a))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}r.getBooleanInput=getBooleanInput;function setOutput(t,r){const i=process.env["GITHUB_OUTPUT"]||"";if(i){return d.issueFileCommand("OUTPUT",d.prepareKeyValueMessage(t,r))}process.stdout.write(p.EOL);c.issueCommand("set-output",{name:t},h.toCommandValue(r))}r.setOutput=setOutput;function setCommandEcho(t){c.issue("echo",t?"on":"off")}r.setCommandEcho=setCommandEcho;function setFailed(t){process.exitCode=g.Failure;error(t)}r.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}r.isDebug=isDebug;function debug(t){c.issueCommand("debug",{},t)}r.debug=debug;function error(t,r={}){c.issueCommand("error",h.toCommandProperties(r),t instanceof Error?t.toString():t)}r.error=error;function warning(t,r={}){c.issueCommand("warning",h.toCommandProperties(r),t instanceof Error?t.toString():t)}r.warning=warning;function notice(t,r={}){c.issueCommand("notice",h.toCommandProperties(r),t instanceof Error?t.toString():t)}r.notice=notice;function info(t){process.stdout.write(t+p.EOL)}r.info=info;function startGroup(t){c.issue("group",t)}r.startGroup=startGroup;function endGroup(){c.issue("endgroup")}r.endGroup=endGroup;function group(t,r){return l(this,void 0,void 0,(function*(){startGroup(t);let i;try{i=yield r()}finally{endGroup()}return i}))}r.group=group;function saveState(t,r){const i=process.env["GITHUB_STATE"]||"";if(i){return d.issueFileCommand("STATE",d.prepareKeyValueMessage(t,r))}c.issueCommand("save-state",{name:t},h.toCommandValue(r))}r.saveState=saveState;function getState(t){return process.env[`STATE_${t}`]||""}r.getState=getState;function getIDToken(t){return l(this,void 0,void 0,(function*(){return yield _.OidcClient.getIDToken(t)}))}r.getIDToken=getIDToken;var v=i(1327);Object.defineProperty(r,"summary",{enumerable:true,get:function(){return v.summary}});var b=i(1327);Object.defineProperty(r,"markdownSummary",{enumerable:true,get:function(){return b.markdownSummary}});var y=i(2981);Object.defineProperty(r,"toPosixPath",{enumerable:true,get:function(){return y.toPosixPath}});Object.defineProperty(r,"toWin32Path",{enumerable:true,get:function(){return y.toWin32Path}});Object.defineProperty(r,"toPlatformPath",{enumerable:true,get:function(){return y.toPlatformPath}})},717:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};Object.defineProperty(r,"__esModule",{value:true});r.prepareKeyValueMessage=r.issueFileCommand=void 0;const l=u(i(7147));const c=u(i(2037));const d=i(5840);const h=i(5278);function issueFileCommand(t,r){const i=process.env[`GITHUB_${t}`];if(!i){throw new Error(`Unable to find environment variable for file command ${t}`)}if(!l.existsSync(i)){throw new Error(`Missing file at path: ${i}`)}l.appendFileSync(i,`${h.toCommandValue(r)}${c.EOL}`,{encoding:"utf8"})}r.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(t,r){const i=`ghadelimiter_${d.v4()}`;const o=h.toCommandValue(r);if(t.includes(i)){throw new Error(`Unexpected input: name should not contain the delimiter "${i}"`)}if(o.includes(i)){throw new Error(`Unexpected input: value should not contain the delimiter "${i}"`)}return`${t}<<${i}${c.EOL}${o}${c.EOL}${i}`}r.prepareKeyValueMessage=prepareKeyValueMessage},8041:function(t,r,i){"use strict";var o=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.OidcClient=void 0;const a=i(6255);const u=i(5526);const l=i(2186);class OidcClient{static createHttpClient(t=true,r=10){const i={allowRetries:t,maxRetries:r};return new a.HttpClient("actions/oidc-client",[new u.BearerCredentialHandler(OidcClient.getRequestToken())],i)}static getRequestToken(){const t=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!t){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return t}static getIDTokenUrl(){const t=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!t){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return t}static getCall(t){var r;return o(this,void 0,void 0,(function*(){const i=OidcClient.createHttpClient();const o=yield i.getJson(t).catch((t=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${t.statusCode}\n \n        Error Message: ${t.result.message}`)}));const a=(r=o.result)===null||r===void 0?void 0:r.value;if(!a){throw new Error("Response json body do not have ID Token field")}return a}))}static getIDToken(t){return o(this,void 0,void 0,(function*(){try{let r=OidcClient.getIDTokenUrl();if(t){const i=encodeURIComponent(t);r=`${r}&audience=${i}`}l.debug(`ID token url is ${r}`);const i=yield OidcClient.getCall(r);l.setSecret(i);return i}catch(t){throw new Error(`Error message: ${t.message}`)}}))}}r.OidcClient=OidcClient},2981:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};Object.defineProperty(r,"__esModule",{value:true});r.toPlatformPath=r.toWin32Path=r.toPosixPath=void 0;const l=u(i(1017));function toPosixPath(t){return t.replace(/[\\]/g,"/")}r.toPosixPath=toPosixPath;function toWin32Path(t){return t.replace(/[/]/g,"\\")}r.toWin32Path=toWin32Path;function toPlatformPath(t){return t.replace(/[/\\]/g,l.sep)}r.toPlatformPath=toPlatformPath},1327:function(t,r,i){"use strict";var o=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.summary=r.markdownSummary=r.SUMMARY_DOCS_URL=r.SUMMARY_ENV_VAR=void 0;const a=i(2037);const u=i(7147);const{access:l,appendFile:c,writeFile:d}=u.promises;r.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";r.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return o(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const t=process.env[r.SUMMARY_ENV_VAR];if(!t){throw new Error(`Unable to find environment variable for $${r.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield l(t,u.constants.R_OK|u.constants.W_OK)}catch(r){throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}this._filePath=t;return this._filePath}))}wrap(t,r,i={}){const o=Object.entries(i).map((([t,r])=>` ${t}="${r}"`)).join("");if(!r){return`<${t}${o}>`}return`<${t}${o}>${r}</${t}>`}write(t){return o(this,void 0,void 0,(function*(){const r=!!(t===null||t===void 0?void 0:t.overwrite);const i=yield this.filePath();const o=r?d:c;yield o(i,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return o(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(t,r=false){this._buffer+=t;return r?this.addEOL():this}addEOL(){return this.addRaw(a.EOL)}addCodeBlock(t,r){const i=Object.assign({},r&&{lang:r});const o=this.wrap("pre",this.wrap("code",t),i);return this.addRaw(o).addEOL()}addList(t,r=false){const i=r?"ol":"ul";const o=t.map((t=>this.wrap("li",t))).join("");const a=this.wrap(i,o);return this.addRaw(a).addEOL()}addTable(t){const r=t.map((t=>{const r=t.map((t=>{if(typeof t==="string"){return this.wrap("td",t)}const{header:r,data:i,colspan:o,rowspan:a}=t;const u=r?"th":"td";const l=Object.assign(Object.assign({},o&&{colspan:o}),a&&{rowspan:a});return this.wrap(u,i,l)})).join("");return this.wrap("tr",r)})).join("");const i=this.wrap("table",r);return this.addRaw(i).addEOL()}addDetails(t,r){const i=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(i).addEOL()}addImage(t,r,i){const{width:o,height:a}=i||{};const u=Object.assign(Object.assign({},o&&{width:o}),a&&{height:a});const l=this.wrap("img",null,Object.assign({src:t,alt:r},u));return this.addRaw(l).addEOL()}addHeading(t,r){const i=`h${r}`;const o=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1";const a=this.wrap(o,t);return this.addRaw(a).addEOL()}addSeparator(){const t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){const t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){const i=Object.assign({},r&&{cite:r});const o=this.wrap("blockquote",t,i);return this.addRaw(o).addEOL()}addLink(t,r){const i=this.wrap("a",t,{href:r});return this.addRaw(i).addEOL()}}const h=new Summary;r.markdownSummary=h;r.summary=h},5278:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toCommandProperties=r.toCommandValue=void 0;function toCommandValue(t){if(t===null||t===undefined){return""}else if(typeof t==="string"||t instanceof String){return t}return JSON.stringify(t)}r.toCommandValue=toCommandValue;function toCommandProperties(t){if(!Object.keys(t).length){return{}}return{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}}r.toCommandProperties=toCommandProperties},8090:function(t,r,i){"use strict";var o=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.hashFiles=r.create=void 0;const a=i(8298);const u=i(2448);function create(t,r){return o(this,void 0,void 0,(function*(){return yield a.DefaultGlobber.create(t,r)}))}r.create=create;function hashFiles(t,r,i=false){return o(this,void 0,void 0,(function*(){let o=true;if(r&&typeof r.followSymbolicLinks==="boolean"){o=r.followSymbolicLinks}const a=yield create(t,{followSymbolicLinks:o});return u.hashFiles(a,i)}))}r.hashFiles=hashFiles},1026:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};Object.defineProperty(r,"__esModule",{value:true});r.getOptions=void 0;const l=u(i(2186));function getOptions(t){const r={followSymbolicLinks:true,implicitDescendants:true,matchDirectories:true,omitBrokenSymbolicLinks:true};if(t){if(typeof t.followSymbolicLinks==="boolean"){r.followSymbolicLinks=t.followSymbolicLinks;l.debug(`followSymbolicLinks '${r.followSymbolicLinks}'`)}if(typeof t.implicitDescendants==="boolean"){r.implicitDescendants=t.implicitDescendants;l.debug(`implicitDescendants '${r.implicitDescendants}'`)}if(typeof t.matchDirectories==="boolean"){r.matchDirectories=t.matchDirectories;l.debug(`matchDirectories '${r.matchDirectories}'`)}if(typeof t.omitBrokenSymbolicLinks==="boolean"){r.omitBrokenSymbolicLinks=t.omitBrokenSymbolicLinks;l.debug(`omitBrokenSymbolicLinks '${r.omitBrokenSymbolicLinks}'`)}}return r}r.getOptions=getOptions},8298:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var c=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],i;return r?r.call(t):(t=typeof __values==="function"?__values(t):t[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(r){i[r]=t[r]&&function(i){return new Promise((function(o,a){i=t[r](i),settle(o,a,i.done,i.value)}))}}function settle(t,r,i,o){Promise.resolve(o).then((function(r){t({value:r,done:i})}),r)}};var d=this&&this.__await||function(t){return this instanceof d?(this.v=t,this):new d(t)};var h=this&&this.__asyncGenerator||function(t,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,r||[]),a,u=[];return a={},verb("next"),verb("throw"),verb("return"),a[Symbol.asyncIterator]=function(){return this},a;function verb(t){if(o[t])a[t]=function(r){return new Promise((function(i,o){u.push([t,r,i,o])>1||resume(t,r)}))}}function resume(t,r){try{step(o[t](r))}catch(t){settle(u[0][3],t)}}function step(t){t.value instanceof d?Promise.resolve(t.value.v).then(fulfill,reject):settle(u[0][2],t)}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,r){if(t(r),u.shift(),u.length)resume(u[0][0],u[0][1])}};Object.defineProperty(r,"__esModule",{value:true});r.DefaultGlobber=void 0;const p=u(i(2186));const m=u(i(7147));const _=u(i(1026));const g=u(i(1017));const v=u(i(9005));const b=i(1063);const y=i(4536);const w=i(9117);const O=process.platform==="win32";class DefaultGlobber{constructor(t){this.patterns=[];this.searchPaths=[];this.options=_.getOptions(t)}getSearchPaths(){return this.searchPaths.slice()}glob(){var t,r;return l(this,void 0,void 0,(function*(){const i=[];try{for(var o=c(this.globGenerator()),a;a=yield o.next(),!a.done;){const t=a.value;i.push(t)}}catch(r){t={error:r}}finally{try{if(a&&!a.done&&(r=o.return))yield r.call(o)}finally{if(t)throw t.error}}return i}))}globGenerator(){return h(this,arguments,(function*globGenerator_1(){const t=_.getOptions(this.options);const r=[];for(const i of this.patterns){r.push(i);if(t.implicitDescendants&&(i.trailingSeparator||i.segments[i.segments.length-1]!=="**")){r.push(new y.Pattern(i.negate,true,i.segments.concat("**")))}}const i=[];for(const t of v.getSearchPaths(r)){p.debug(`Search path '${t}'`);try{yield d(m.promises.lstat(t))}catch(t){if(t.code==="ENOENT"){continue}throw t}i.unshift(new w.SearchState(t,1))}const o=[];while(i.length){const a=i.pop();const u=v.match(r,a.path);const l=!!u||v.partialMatch(r,a.path);if(!u&&!l){continue}const c=yield d(DefaultGlobber.stat(a,t,o));if(!c){continue}if(c.isDirectory()){if(u&b.MatchKind.Directory&&t.matchDirectories){yield yield d(a.path)}else if(!l){continue}const r=a.level+1;const o=(yield d(m.promises.readdir(a.path))).map((t=>new w.SearchState(g.join(a.path,t),r)));i.push(...o.reverse())}else if(u&b.MatchKind.File){yield yield d(a.path)}}}))}static create(t,r){return l(this,void 0,void 0,(function*(){const i=new DefaultGlobber(r);if(O){t=t.replace(/\r\n/g,"\n");t=t.replace(/\r/g,"\n")}const o=t.split("\n").map((t=>t.trim()));for(const t of o){if(!t||t.startsWith("#")){continue}else{i.patterns.push(new y.Pattern(t))}}i.searchPaths.push(...v.getSearchPaths(i.patterns));return i}))}static stat(t,r,i){return l(this,void 0,void 0,(function*(){let o;if(r.followSymbolicLinks){try{o=yield m.promises.stat(t.path)}catch(i){if(i.code==="ENOENT"){if(r.omitBrokenSymbolicLinks){p.debug(`Broken symlink '${t.path}'`);return undefined}throw new Error(`No information found for the path '${t.path}'. This may indicate a broken symbolic link.`)}throw i}}else{o=yield m.promises.lstat(t.path)}if(o.isDirectory()&&r.followSymbolicLinks){const r=yield m.promises.realpath(t.path);while(i.length>=t.level){i.pop()}if(i.some((t=>t===r))){p.debug(`Symlink cycle detected for path '${t.path}' and realpath '${r}'`);return undefined}i.push(r)}return o}))}}r.DefaultGlobber=DefaultGlobber},2448:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var c=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],i;return r?r.call(t):(t=typeof __values==="function"?__values(t):t[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(r){i[r]=t[r]&&function(i){return new Promise((function(o,a){i=t[r](i),settle(o,a,i.done,i.value)}))}}function settle(t,r,i,o){Promise.resolve(o).then((function(r){t({value:r,done:i})}),r)}};Object.defineProperty(r,"__esModule",{value:true});r.hashFiles=void 0;const d=u(i(6113));const h=u(i(2186));const p=u(i(7147));const m=u(i(2781));const _=u(i(3837));const g=u(i(1017));function hashFiles(t,r=false){var i,o;var a;return l(this,void 0,void 0,(function*(){const u=r?h.info:h.debug;let l=false;const v=(a=process.env["GITHUB_WORKSPACE"])!==null&&a!==void 0?a:process.cwd();const b=d.createHash("sha256");let y=0;try{for(var w=c(t.globGenerator()),O;O=yield w.next(),!O.done;){const t=O.value;u(t);if(!t.startsWith(`${v}${g.sep}`)){u(`Ignore '${t}' since it is not under GITHUB_WORKSPACE.`);continue}if(p.statSync(t).isDirectory()){u(`Skip directory '${t}'.`);continue}const r=d.createHash("sha256");const i=_.promisify(m.pipeline);yield i(p.createReadStream(t),r);b.write(r.digest());y++;if(!l){l=true}}}catch(t){i={error:t}}finally{try{if(O&&!O.done&&(o=w.return))yield o.call(w)}finally{if(i)throw i.error}}b.end();if(l){u(`Found ${y} files to hash.`);return b.digest("hex")}else{u(`No matches found for glob`);return""}}))}r.hashFiles=hashFiles},1063:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MatchKind=void 0;var i;(function(t){t[t["None"]=0]="None";t[t["Directory"]=1]="Directory";t[t["File"]=2]="File";t[t["All"]=3]="All"})(i=r.MatchKind||(r.MatchKind={}))},1849:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:true});r.safeTrimTrailingSeparator=r.normalizeSeparators=r.hasRoot=r.hasAbsoluteRoot=r.ensureAbsoluteRoot=r.dirname=void 0;const c=u(i(1017));const d=l(i(9491));const h=process.platform==="win32";function dirname(t){t=safeTrimTrailingSeparator(t);if(h&&/^\\\\[^\\]+(\\[^\\]+)?$/.test(t)){return t}let r=c.dirname(t);if(h&&/^\\\\[^\\]+\\[^\\]+\\$/.test(r)){r=safeTrimTrailingSeparator(r)}return r}r.dirname=dirname;function ensureAbsoluteRoot(t,r){d.default(t,`ensureAbsoluteRoot parameter 'root' must not be empty`);d.default(r,`ensureAbsoluteRoot parameter 'itemPath' must not be empty`);if(hasAbsoluteRoot(r)){return r}if(h){if(r.match(/^[A-Z]:[^\\/]|^[A-Z]:$/i)){let t=process.cwd();d.default(t.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${t}'`);if(r[0].toUpperCase()===t[0].toUpperCase()){if(r.length===2){return`${r[0]}:\\${t.substr(3)}`}else{if(!t.endsWith("\\")){t+="\\"}return`${r[0]}:\\${t.substr(3)}${r.substr(2)}`}}else{return`${r[0]}:\\${r.substr(2)}`}}else if(normalizeSeparators(r).match(/^\\$|^\\[^\\]/)){const t=process.cwd();d.default(t.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${t}'`);return`${t[0]}:\\${r.substr(1)}`}}d.default(hasAbsoluteRoot(t),`ensureAbsoluteRoot parameter 'root' must have an absolute root`);if(t.endsWith("/")||h&&t.endsWith("\\")){}else{t+=c.sep}return t+r}r.ensureAbsoluteRoot=ensureAbsoluteRoot;function hasAbsoluteRoot(t){d.default(t,`hasAbsoluteRoot parameter 'itemPath' must not be empty`);t=normalizeSeparators(t);if(h){return t.startsWith("\\\\")||/^[A-Z]:\\/i.test(t)}return t.startsWith("/")}r.hasAbsoluteRoot=hasAbsoluteRoot;function hasRoot(t){d.default(t,`isRooted parameter 'itemPath' must not be empty`);t=normalizeSeparators(t);if(h){return t.startsWith("\\")||/^[A-Z]:/i.test(t)}return t.startsWith("/")}r.hasRoot=hasRoot;function normalizeSeparators(t){t=t||"";if(h){t=t.replace(/\//g,"\\");const r=/^\\\\+[^\\]/.test(t);return(r?"\\":"")+t.replace(/\\\\+/g,"\\")}return t.replace(/\/\/+/g,"/")}r.normalizeSeparators=normalizeSeparators;function safeTrimTrailingSeparator(t){if(!t){return""}t=normalizeSeparators(t);if(!t.endsWith(c.sep)){return t}if(t===c.sep){return t}if(h&&/^[A-Z]:\\$/i.test(t)){return t}return t.substr(0,t.length-1)}r.safeTrimTrailingSeparator=safeTrimTrailingSeparator},6836:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:true});r.Path=void 0;const c=u(i(1017));const d=u(i(1849));const h=l(i(9491));const p=process.platform==="win32";class Path{constructor(t){this.segments=[];if(typeof t==="string"){h.default(t,`Parameter 'itemPath' must not be empty`);t=d.safeTrimTrailingSeparator(t);if(!d.hasRoot(t)){this.segments=t.split(c.sep)}else{let r=t;let i=d.dirname(r);while(i!==r){const t=c.basename(r);this.segments.unshift(t);r=i;i=d.dirname(r)}this.segments.unshift(r)}}else{h.default(t.length>0,`Parameter 'itemPath' must not be an empty array`);for(let r=0;r<t.length;r++){let i=t[r];h.default(i,`Parameter 'itemPath' must not contain any empty segments`);i=d.normalizeSeparators(t[r]);if(r===0&&d.hasRoot(i)){i=d.safeTrimTrailingSeparator(i);h.default(i===d.dirname(i),`Parameter 'itemPath' root segment contains information for multiple segments`);this.segments.push(i)}else{h.default(!i.includes(c.sep),`Parameter 'itemPath' contains unexpected path separators`);this.segments.push(i)}}}}toString(){let t=this.segments[0];let r=t.endsWith(c.sep)||p&&/^[A-Z]:$/i.test(t);for(let i=1;i<this.segments.length;i++){if(r){r=false}else{t+=c.sep}t+=this.segments[i]}return t}}r.Path=Path},9005:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};Object.defineProperty(r,"__esModule",{value:true});r.partialMatch=r.match=r.getSearchPaths=void 0;const l=u(i(1849));const c=i(1063);const d=process.platform==="win32";function getSearchPaths(t){t=t.filter((t=>!t.negate));const r={};for(const i of t){const t=d?i.searchPath.toUpperCase():i.searchPath;r[t]="candidate"}const i=[];for(const o of t){const t=d?o.searchPath.toUpperCase():o.searchPath;if(r[t]==="included"){continue}let a=false;let u=t;let c=l.dirname(u);while(c!==u){if(r[c]){a=true;break}u=c;c=l.dirname(u)}if(!a){i.push(o.searchPath);r[t]="included"}}return i}r.getSearchPaths=getSearchPaths;function match(t,r){let i=c.MatchKind.None;for(const o of t){if(o.negate){i&=~o.match(r)}else{i|=o.match(r)}}return i}r.match=match;function partialMatch(t,r){return t.some((t=>!t.negate&&t.partialMatch(r)))}r.partialMatch=partialMatch},4536:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:true});r.Pattern=void 0;const c=u(i(2037));const d=u(i(1017));const h=u(i(1849));const p=l(i(9491));const m=i(3973);const _=i(1063);const g=i(6836);const v=process.platform==="win32";class Pattern{constructor(t,r=false,i,o){this.negate=false;let a;if(typeof t==="string"){a=t.trim()}else{i=i||[];p.default(i.length,`Parameter 'segments' must not empty`);const r=Pattern.getLiteral(i[0]);p.default(r&&h.hasAbsoluteRoot(r),`Parameter 'segments' first element must be a root path`);a=new g.Path(i).toString().trim();if(t){a=`!${a}`}}while(a.startsWith("!")){this.negate=!this.negate;a=a.substr(1).trim()}a=Pattern.fixupPattern(a,o);this.segments=new g.Path(a).segments;this.trailingSeparator=h.normalizeSeparators(a).endsWith(d.sep);a=h.safeTrimTrailingSeparator(a);let u=false;const l=this.segments.map((t=>Pattern.getLiteral(t))).filter((t=>!u&&!(u=t==="")));this.searchPath=new g.Path(l).toString();this.rootRegExp=new RegExp(Pattern.regExpEscape(l[0]),v?"i":"");this.isImplicitPattern=r;const c={dot:true,nobrace:true,nocase:v,nocomment:true,noext:true,nonegate:true};a=v?a.replace(/\\/g,"/"):a;this.minimatch=new m.Minimatch(a,c)}match(t){if(this.segments[this.segments.length-1]==="**"){t=h.normalizeSeparators(t);if(!t.endsWith(d.sep)&&this.isImplicitPattern===false){t=`${t}${d.sep}`}}else{t=h.safeTrimTrailingSeparator(t)}if(this.minimatch.match(t)){return this.trailingSeparator?_.MatchKind.Directory:_.MatchKind.All}return _.MatchKind.None}partialMatch(t){t=h.safeTrimTrailingSeparator(t);if(h.dirname(t)===t){return this.rootRegExp.test(t)}return this.minimatch.matchOne(t.split(v?/\\+/:/\/+/),this.minimatch.set[0],true)}static globEscape(t){return(v?t:t.replace(/\\/g,"\\\\")).replace(/(\[)(?=[^/]+\])/g,"[[]").replace(/\?/g,"[?]").replace(/\*/g,"[*]")}static fixupPattern(t,r){p.default(t,"pattern cannot be empty");const i=new g.Path(t).segments.map((t=>Pattern.getLiteral(t)));p.default(i.every(((t,r)=>(t!=="."||r===0)&&t!=="..")),`Invalid pattern '${t}'. Relative pathing '.' and '..' is not allowed.`);p.default(!h.hasRoot(t)||i[0],`Invalid pattern '${t}'. Root segment must not contain globs.`);t=h.normalizeSeparators(t);if(t==="."||t.startsWith(`.${d.sep}`)){t=Pattern.globEscape(process.cwd())+t.substr(1)}else if(t==="~"||t.startsWith(`~${d.sep}`)){r=r||c.homedir();p.default(r,"Unable to determine HOME directory");p.default(h.hasAbsoluteRoot(r),`Expected HOME directory to be a rooted path. Actual '${r}'`);t=Pattern.globEscape(r)+t.substr(1)}else if(v&&(t.match(/^[A-Z]:$/i)||t.match(/^[A-Z]:[^\\]/i))){let r=h.ensureAbsoluteRoot("C:\\dummy-root",t.substr(0,2));if(t.length>2&&!r.endsWith("\\")){r+="\\"}t=Pattern.globEscape(r)+t.substr(2)}else if(v&&(t==="\\"||t.match(/^\\[^\\]/))){let r=h.ensureAbsoluteRoot("C:\\dummy-root","\\");if(!r.endsWith("\\")){r+="\\"}t=Pattern.globEscape(r)+t.substr(1)}else{t=h.ensureAbsoluteRoot(Pattern.globEscape(process.cwd()),t)}return h.normalizeSeparators(t)}static getLiteral(t){let r="";for(let i=0;i<t.length;i++){const o=t[i];if(o==="\\"&&!v&&i+1<t.length){r+=t[++i];continue}else if(o==="*"||o==="?"){return""}else if(o==="["&&i+1<t.length){let o="";let a=-1;for(let r=i+1;r<t.length;r++){const i=t[r];if(i==="\\"&&!v&&r+1<t.length){o+=t[++r];continue}else if(i==="]"){a=r;break}else{o+=i}}if(a>=0){if(o.length>1){return""}if(o){r+=o;i=a;continue}}}r+=o}return r}static regExpEscape(t){return t.replace(/[[\\^$.|?*+()]/g,"\\$&")}}r.Pattern=Pattern},9117:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SearchState=void 0;class SearchState{constructor(t,r){this.path=t;this.level=r}}r.SearchState=SearchState},5526:function(t,r){"use strict";var i=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.PersonalAccessTokenCredentialHandler=r.BearerCredentialHandler=r.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(t,r){this.username=t;this.password=r}prepareRequest(t){if(!t.headers){throw Error("The request has no headers")}t.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}r.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(t){this.token=t}prepareRequest(t){if(!t.headers){throw Error("The request has no headers")}t.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}r.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(t){this.token=t}prepareRequest(t){if(!t.headers){throw Error("The request has no headers")}t.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return i(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}r.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(t,r,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;Object.defineProperty(t,o,{enumerable:true,get:function(){return r[i]}})}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var a=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.hasOwnProperty.call(t,i))o(r,t,i);a(r,t);return r};var l=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:true});r.HttpClient=r.isHttps=r.HttpClientResponse=r.HttpClientError=r.getProxyUrl=r.MediaTypes=r.Headers=r.HttpCodes=void 0;const c=u(i(3685));const d=u(i(5687));const h=u(i(9835));const p=u(i(4294));var m;(function(t){t[t["OK"]=200]="OK";t[t["MultipleChoices"]=300]="MultipleChoices";t[t["MovedPermanently"]=301]="MovedPermanently";t[t["ResourceMoved"]=302]="ResourceMoved";t[t["SeeOther"]=303]="SeeOther";t[t["NotModified"]=304]="NotModified";t[t["UseProxy"]=305]="UseProxy";t[t["SwitchProxy"]=306]="SwitchProxy";t[t["TemporaryRedirect"]=307]="TemporaryRedirect";t[t["PermanentRedirect"]=308]="PermanentRedirect";t[t["BadRequest"]=400]="BadRequest";t[t["Unauthorized"]=401]="Unauthorized";t[t["PaymentRequired"]=402]="PaymentRequired";t[t["Forbidden"]=403]="Forbidden";t[t["NotFound"]=404]="NotFound";t[t["MethodNotAllowed"]=405]="MethodNotAllowed";t[t["NotAcceptable"]=406]="NotAcceptable";t[t["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";t[t["RequestTimeout"]=408]="RequestTimeout";t[t["Conflict"]=409]="Conflict";t[t["Gone"]=410]="Gone";t[t["TooManyRequests"]=429]="TooManyRequests";t[t["InternalServerError"]=500]="InternalServerError";t[t["NotImplemented"]=501]="NotImplemented";t[t["BadGateway"]=502]="BadGateway";t[t["ServiceUnavailable"]=503]="ServiceUnavailable";t[t["GatewayTimeout"]=504]="GatewayTimeout"})(m=r.HttpCodes||(r.HttpCodes={}));var _;(function(t){t["Accept"]="accept";t["ContentType"]="content-type"})(_=r.Headers||(r.Headers={}));var g;(function(t){t["ApplicationJson"]="application/json"})(g=r.MediaTypes||(r.MediaTypes={}));function getProxyUrl(t){const r=h.getProxyUrl(new URL(t));return r?r.href:""}r.getProxyUrl=getProxyUrl;const v=[m.MovedPermanently,m.ResourceMoved,m.SeeOther,m.TemporaryRedirect,m.PermanentRedirect];const b=[m.BadGateway,m.ServiceUnavailable,m.GatewayTimeout];const y=["OPTIONS","GET","DELETE","HEAD"];const w=10;const O=5;class HttpClientError extends Error{constructor(t,r){super(t);this.name="HttpClientError";this.statusCode=r;Object.setPrototypeOf(this,HttpClientError.prototype)}}r.HttpClientError=HttpClientError;class HttpClientResponse{constructor(t){this.message=t}readBody(){return l(this,void 0,void 0,(function*(){return new Promise((t=>l(this,void 0,void 0,(function*(){let r=Buffer.alloc(0);this.message.on("data",(t=>{r=Buffer.concat([r,t])}));this.message.on("end",(()=>{t(r.toString())}))}))))}))}}r.HttpClientResponse=HttpClientResponse;function isHttps(t){const r=new URL(t);return r.protocol==="https:"}r.isHttps=isHttps;class HttpClient{constructor(t,r,i){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=t;this.handlers=r||[];this.requestOptions=i;if(i){if(i.ignoreSslError!=null){this._ignoreSslError=i.ignoreSslError}this._socketTimeout=i.socketTimeout;if(i.allowRedirects!=null){this._allowRedirects=i.allowRedirects}if(i.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=i.allowRedirectDowngrade}if(i.maxRedirects!=null){this._maxRedirects=Math.max(i.maxRedirects,0)}if(i.keepAlive!=null){this._keepAlive=i.keepAlive}if(i.allowRetries!=null){this._allowRetries=i.allowRetries}if(i.maxRetries!=null){this._maxRetries=i.maxRetries}}}options(t,r){return l(this,void 0,void 0,(function*(){return this.request("OPTIONS",t,null,r||{})}))}get(t,r){return l(this,void 0,void 0,(function*(){return this.request("GET",t,null,r||{})}))}del(t,r){return l(this,void 0,void 0,(function*(){return this.request("DELETE",t,null,r||{})}))}post(t,r,i){return l(this,void 0,void 0,(function*(){return this.request("POST",t,r,i||{})}))}patch(t,r,i){return l(this,void 0,void 0,(function*(){return this.request("PATCH",t,r,i||{})}))}put(t,r,i){return l(this,void 0,void 0,(function*(){return this.request("PUT",t,r,i||{})}))}head(t,r){return l(this,void 0,void 0,(function*(){return this.request("HEAD",t,null,r||{})}))}sendStream(t,r,i,o){return l(this,void 0,void 0,(function*(){return this.request(t,r,i,o)}))}getJson(t,r={}){return l(this,void 0,void 0,(function*(){r[_.Accept]=this._getExistingOrDefaultHeader(r,_.Accept,g.ApplicationJson);const i=yield this.get(t,r);return this._processResponse(i,this.requestOptions)}))}postJson(t,r,i={}){return l(this,void 0,void 0,(function*(){const o=JSON.stringify(r,null,2);i[_.Accept]=this._getExistingOrDefaultHeader(i,_.Accept,g.ApplicationJson);i[_.ContentType]=this._getExistingOrDefaultHeader(i,_.ContentType,g.ApplicationJson);const a=yield this.post(t,o,i);return this._processResponse(a,this.requestOptions)}))}putJson(t,r,i={}){return l(this,void 0,void 0,(function*(){const o=JSON.stringify(r,null,2);i[_.Accept]=this._getExistingOrDefaultHeader(i,_.Accept,g.ApplicationJson);i[_.ContentType]=this._getExistingOrDefaultHeader(i,_.ContentType,g.ApplicationJson);const a=yield this.put(t,o,i);return this._processResponse(a,this.requestOptions)}))}patchJson(t,r,i={}){return l(this,void 0,void 0,(function*(){const o=JSON.stringify(r,null,2);i[_.Accept]=this._getExistingOrDefaultHeader(i,_.Accept,g.ApplicationJson);i[_.ContentType]=this._getExistingOrDefaultHeader(i,_.ContentType,g.ApplicationJson);const a=yield this.patch(t,o,i);return this._processResponse(a,this.requestOptions)}))}request(t,r,i,o){return l(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const a=new URL(r);let u=this._prepareRequest(t,a,o);const l=this._allowRetries&&y.includes(t)?this._maxRetries+1:1;let c=0;let d;do{d=yield this.requestRaw(u,i);if(d&&d.message&&d.message.statusCode===m.Unauthorized){let t;for(const r of this.handlers){if(r.canHandleAuthentication(d)){t=r;break}}if(t){return t.handleAuthentication(this,u,i)}else{return d}}let r=this._maxRedirects;while(d.message.statusCode&&v.includes(d.message.statusCode)&&this._allowRedirects&&r>0){const l=d.message.headers["location"];if(!l){break}const c=new URL(l);if(a.protocol==="https:"&&a.protocol!==c.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield d.readBody();if(c.hostname!==a.hostname){for(const t in o){if(t.toLowerCase()==="authorization"){delete o[t]}}}u=this._prepareRequest(t,c,o);d=yield this.requestRaw(u,i);r--}if(!d.message.statusCode||!b.includes(d.message.statusCode)){return d}c+=1;if(c<l){yield d.readBody();yield this._performExponentialBackoff(c)}}while(c<l);return d}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(t,r){return l(this,void 0,void 0,(function*(){return new Promise(((i,o)=>{function callbackForResult(t,r){if(t){o(t)}else if(!r){o(new Error("Unknown error"))}else{i(r)}}this.requestRawWithCallback(t,r,callbackForResult)}))}))}requestRawWithCallback(t,r,i){if(typeof r==="string"){if(!t.options.headers){t.options.headers={}}t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8")}let o=false;function handleResult(t,r){if(!o){o=true;i(t,r)}}const a=t.httpModule.request(t.options,(t=>{const r=new HttpClientResponse(t);handleResult(undefined,r)}));let u;a.on("socket",(t=>{u=t}));a.setTimeout(this._socketTimeout||3*6e4,(()=>{if(u){u.end()}handleResult(new Error(`Request timeout: ${t.options.path}`))}));a.on("error",(function(t){handleResult(t)}));if(r&&typeof r==="string"){a.write(r,"utf8")}if(r&&typeof r!=="string"){r.on("close",(function(){a.end()}));r.pipe(a)}else{a.end()}}getAgent(t){const r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,i){const o={};o.parsedUrl=r;const a=o.parsedUrl.protocol==="https:";o.httpModule=a?d:c;const u=a?443:80;o.options={};o.options.host=o.parsedUrl.hostname;o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):u;o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||"");o.options.method=t;o.options.headers=this._mergeHeaders(i);if(this.userAgent!=null){o.options.headers["user-agent"]=this.userAgent}o.options.agent=this._getAgent(o.parsedUrl);if(this.handlers){for(const t of this.handlers){t.prepareRequest(o.options)}}return o}_mergeHeaders(t){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(t||{}))}return lowercaseKeys(t||{})}_getExistingOrDefaultHeader(t,r,i){let o;if(this.requestOptions&&this.requestOptions.headers){o=lowercaseKeys(this.requestOptions.headers)[r]}return t[r]||o||i}_getAgent(t){let r;const i=h.getProxyUrl(t);const o=i&&i.hostname;if(this._keepAlive&&o){r=this._proxyAgent}if(this._keepAlive&&!o){r=this._agent}if(r){return r}const a=t.protocol==="https:";let u=100;if(this.requestOptions){u=this.requestOptions.maxSockets||c.globalAgent.maxSockets}if(i&&i.hostname){const t={maxSockets:u,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})};let o;const l=i.protocol==="https:";if(a){o=l?p.httpsOverHttps:p.httpsOverHttp}else{o=l?p.httpOverHttps:p.httpOverHttp}r=o(t);this._proxyAgent=r}if(this._keepAlive&&!r){const t={keepAlive:this._keepAlive,maxSockets:u};r=a?new d.Agent(t):new c.Agent(t);this._agent=r}if(!r){r=a?d.globalAgent:c.globalAgent}if(a&&this._ignoreSslError){r.options=Object.assign(r.options||{},{rejectUnauthorized:false})}return r}_performExponentialBackoff(t){return l(this,void 0,void 0,(function*(){t=Math.min(w,t);const r=O*Math.pow(2,t);return new Promise((t=>setTimeout((()=>t()),r)))}))}_processResponse(t,r){return l(this,void 0,void 0,(function*(){return new Promise(((i,o)=>l(this,void 0,void 0,(function*(){const a=t.message.statusCode||0;const u={statusCode:a,result:null,headers:{}};if(a===m.NotFound){i(u)}function dateTimeDeserializer(t,r){if(typeof r==="string"){const t=new Date(r);if(!isNaN(t.valueOf())){return t}}return r}let l;let c;try{c=yield t.readBody();if(c&&c.length>0){if(r&&r.deserializeDates){l=JSON.parse(c,dateTimeDeserializer)}else{l=JSON.parse(c)}u.result=l}u.headers=t.message.headers}catch(t){}if(a>299){let t;if(l&&l.message){t=l.message}else if(c&&c.length>0){t=c}else{t=`Failed request: (${a})`}const r=new HttpClientError(t,a);r.result=u.result;o(r)}else{i(u)}}))))}))}}r.HttpClient=HttpClient;const lowercaseKeys=t=>Object.keys(t).reduce(((r,i)=>(r[i.toLowerCase()]=t[i],r)),{})},9835:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.checkBypass=r.getProxyUrl=void 0;function getProxyUrl(t){const r=t.protocol==="https:";if(checkBypass(t)){return undefined}const i=(()=>{if(r){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(i){return new URL(i)}else{return undefined}}r.getProxyUrl=getProxyUrl;function checkBypass(t){if(!t.hostname){return false}const r=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!r){return false}let i;if(t.port){i=Number(t.port)}else if(t.protocol==="http:"){i=80}else if(t.protocol==="https:"){i=443}const o=[t.hostname.toUpperCase()];if(typeof i==="number"){o.push(`${o[0]}:${i}`)}for(const t of r.split(",").map((t=>t.trim().toUpperCase())).filter((t=>t))){if(o.some((r=>r===t))){return true}}return false}r.checkBypass=checkBypass},9417:t=>{"use strict";t.exports=balanced;function balanced(t,r,i){if(t instanceof RegExp)t=maybeMatch(t,i);if(r instanceof RegExp)r=maybeMatch(r,i);var o=range(t,r,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+t.length,o[1]),post:i.slice(o[1]+r.length)}}function maybeMatch(t,r){var i=r.match(t);return i?i[0]:null}balanced.range=range;function range(t,r,i){var o,a,u,l,c;var d=i.indexOf(t);var h=i.indexOf(r,d+1);var p=d;if(d>=0&&h>0){if(t===r){return[d,h]}o=[];u=i.length;while(p>=0&&!c){if(p==d){o.push(p);d=i.indexOf(t,p+1)}else if(o.length==1){c=[o.pop(),h]}else{a=o.pop();if(a<u){u=a;l=h}h=i.indexOf(r,p+1)}p=d<h&&d>=0?d:h}if(o.length){c=[u,l]}}return c}},3717:(t,r,i)=>{var o=i(6891);var a=i(9417);t.exports=expandTop;var u="\0SLASH"+Math.random()+"\0";var l="\0OPEN"+Math.random()+"\0";var c="\0CLOSE"+Math.random()+"\0";var d="\0COMMA"+Math.random()+"\0";var h="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(u).split("\\{").join(l).split("\\}").join(c).split("\\,").join(d).split("\\.").join(h)}function unescapeBraces(t){return t.split(u).join("\\").split(l).join("{").split(c).join("}").split(d).join(",").split(h).join(".")}function parseCommaParts(t){if(!t)return[""];var r=[];var i=a("{","}",t);if(!i)return t.split(",");var o=i.pre;var u=i.body;var l=i.post;var c=o.split(",");c[c.length-1]+="{"+u+"}";var d=parseCommaParts(l);if(l.length){c[c.length-1]+=d.shift();c.push.apply(c,d)}r.push.apply(r,c);return r}function expandTop(t){if(!t)return[];if(t.substr(0,2)==="{}"){t="\\{\\}"+t.substr(2)}return expand(escapeBraces(t),true).map(unescapeBraces)}function identity(t){return t}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,r){return t<=r}function gte(t,r){return t>=r}function expand(t,r){var i=[];var u=a("{","}",t);if(!u||/\$$/.test(u.pre))return[t];var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(u.body);var d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(u.body);var h=l||d;var p=u.body.indexOf(",")>=0;if(!h&&!p){if(u.post.match(/,.*\}/)){t=u.pre+"{"+u.body+c+u.post;return expand(t)}return[t]}var m;if(h){m=u.body.split(/\.\./)}else{m=parseCommaParts(u.body);if(m.length===1){m=expand(m[0],false).map(embrace);if(m.length===1){var _=u.post.length?expand(u.post,false):[""];return _.map((function(t){return u.pre+m[0]+t}))}}}var g=u.pre;var _=u.post.length?expand(u.post,false):[""];var v;if(h){var b=numeric(m[0]);var y=numeric(m[1]);var w=Math.max(m[0].length,m[1].length);var O=m.length==3?Math.abs(numeric(m[2])):1;var S=lte;var E=y<b;if(E){O*=-1;S=gte}var R=m.some(isPadded);v=[];for(var P=b;S(P,y);P+=O){var C;if(d){C=String.fromCharCode(P);if(C==="\\")C=""}else{C=String(P);if(R){var A=w-C.length;if(A>0){var x=new Array(A+1).join("0");if(P<0)C="-"+x+C.slice(1);else C=x+C}}}v.push(C)}}else{v=o(m,(function(t){return expand(t,false)}))}for(var I=0;I<v.length;I++){for(var T=0;T<_.length;T++){var k=g+v[I]+_[T];if(!r||h||k)i.push(k)}}return i}},6891:t=>{t.exports=function(t,i){var o=[];for(var a=0;a<t.length;a++){var u=i(t[a],a);if(r(u))o.push.apply(o,u);else o.push(u)}return o};var r=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}},3973:(t,r,i)=>{t.exports=minimatch;minimatch.Minimatch=Minimatch;var o=function(){try{return i(1017)}catch(t){}}()||{sep:"/"};minimatch.sep=o.sep;var a=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var u=i(3717);var l={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var c="[^/]";var d=c+"*?";var h="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var p="(?:(?!(?:\\/|^)\\.).)*?";var m=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce((function(t,r){t[r]=true;return t}),{})}var _=/\/+/;minimatch.filter=filter;function filter(t,r){r=r||{};return function(i,o,a){return minimatch(i,t,r)}}function ext(t,r){r=r||{};var i={};Object.keys(t).forEach((function(r){i[r]=t[r]}));Object.keys(r).forEach((function(t){i[t]=r[t]}));return i}minimatch.defaults=function(t){if(!t||typeof t!=="object"||!Object.keys(t).length){return minimatch}var r=minimatch;var i=function minimatch(i,o,a){return r(i,o,ext(t,a))};i.Minimatch=function Minimatch(i,o){return new r.Minimatch(i,ext(t,o))};i.Minimatch.defaults=function defaults(i){return r.defaults(ext(t,i)).Minimatch};i.filter=function filter(i,o){return r.filter(i,ext(t,o))};i.defaults=function defaults(i){return r.defaults(ext(t,i))};i.makeRe=function makeRe(i,o){return r.makeRe(i,ext(t,o))};i.braceExpand=function braceExpand(i,o){return r.braceExpand(i,ext(t,o))};i.match=function(i,o,a){return r.match(i,o,ext(t,a))};return i};Minimatch.defaults=function(t){return minimatch.defaults(t).Minimatch};function minimatch(t,r,i){assertValidPattern(r);if(!i)i={};if(!i.nocomment&&r.charAt(0)==="#"){return false}return new Minimatch(r,i).match(t)}function Minimatch(t,r){if(!(this instanceof Minimatch)){return new Minimatch(t,r)}assertValidPattern(t);if(!r)r={};t=t.trim();if(!r.allowWindowsEscape&&o.sep!=="/"){t=t.split(o.sep).join("/")}this.options=r;this.set=[];this.pattern=t;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.partial=!!r.partial;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){var t=this.pattern;var r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();var i=this.globSet=this.braceExpand();if(r.debug)this.debug=function debug(){console.error.apply(console,arguments)};this.debug(this.pattern,i);i=this.globParts=i.map((function(t){return t.split(_)}));this.debug(this.pattern,i);i=i.map((function(t,r,i){return t.map(this.parse,this)}),this);this.debug(this.pattern,i);i=i.filter((function(t){return t.indexOf(false)===-1}));this.debug(this.pattern,i);this.set=i}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var t=this.pattern;var r=false;var i=this.options;var o=0;if(i.nonegate)return;for(var a=0,u=t.length;a<u&&t.charAt(a)==="!";a++){r=!r;o++}if(o)this.pattern=t.substr(o);this.negate=r}minimatch.braceExpand=function(t,r){return braceExpand(t,r)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(t,r){if(!r){if(this instanceof Minimatch){r=this.options}else{r={}}}t=typeof t==="undefined"?this.pattern:t;assertValidPattern(t);if(r.nobrace||!/\{(?:(?!\{).)*\}/.test(t)){return[t]}return u(t)}var g=1024*64;var assertValidPattern=function(t){if(typeof t!=="string"){throw new TypeError("invalid pattern")}if(t.length>g){throw new TypeError("pattern is too long")}};Minimatch.prototype.parse=parse;var v={};function parse(t,r){assertValidPattern(t);var i=this.options;if(t==="**"){if(!i.noglobstar)return a;else t="*"}if(t==="")return"";var o="";var u=!!i.nocase;var h=false;var p=[];var _=[];var g;var b=false;var y=-1;var w=-1;var O=t.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var S=this;function clearStateChar(){if(g){switch(g){case"*":o+=d;u=true;break;case"?":o+=c;u=true;break;default:o+="\\"+g;break}S.debug("clearStateChar %j %j",g,o);g=false}}for(var E=0,R=t.length,P;E<R&&(P=t.charAt(E));E++){this.debug("%s\t%s %s %j",t,E,o,P);if(h&&m[P]){o+="\\"+P;h=false;continue}switch(P){case"/":{return false}case"\\":clearStateChar();h=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",t,E,o,P);if(b){this.debug("  in class");if(P==="!"&&E===w+1)P="^";o+=P;continue}S.debug("call clearStateChar %j",g);clearStateChar();g=P;if(i.noext)clearStateChar();continue;case"(":if(b){o+="(";continue}if(!g){o+="\\(";continue}p.push({type:g,start:E-1,reStart:o.length,open:l[g].open,close:l[g].close});o+=g==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",g,o);g=false;continue;case")":if(b||!p.length){o+="\\)";continue}clearStateChar();u=true;var C=p.pop();o+=C.close;if(C.type==="!"){_.push(C)}C.reEnd=o.length;continue;case"|":if(b||!p.length||h){o+="\\|";h=false;continue}clearStateChar();o+="|";continue;case"[":clearStateChar();if(b){o+="\\"+P;continue}b=true;w=E;y=o.length;o+=P;continue;case"]":if(E===w+1||!b){o+="\\"+P;h=false;continue}var A=t.substring(w+1,E);try{RegExp("["+A+"]")}catch(t){var x=this.parse(A,v);o=o.substr(0,y)+"\\["+x[0]+"\\]";u=u||x[1];b=false;continue}u=true;b=false;o+=P;continue;default:clearStateChar();if(h){h=false}else if(m[P]&&!(P==="^"&&b)){o+="\\"}o+=P}}if(b){A=t.substr(w+1);x=this.parse(A,v);o=o.substr(0,y)+"\\["+x[0];u=u||x[1]}for(C=p.pop();C;C=p.pop()){var I=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C);I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,r,i){if(!i){i="\\"}return r+r+i+"|"}));this.debug("tail=%j\n   %s",I,I,C,o);var T=C.type==="*"?d:C.type==="?"?c:"\\"+C.type;u=true;o=o.slice(0,C.reStart)+T+"\\("+I}clearStateChar();if(h){o+="\\\\"}var k=false;switch(o.charAt(0)){case"[":case".":case"(":k=true}for(var M=_.length-1;M>-1;M--){var j=_[M];var D=o.slice(0,j.reStart);var $=o.slice(j.reStart,j.reEnd-8);var N=o.slice(j.reEnd-8,j.reEnd);var q=o.slice(j.reEnd);N+=q;var B=D.split("(").length-1;var L=q;for(E=0;E<B;E++){L=L.replace(/\)[+*?]?/,"")}q=L;var U="";if(q===""&&r!==v){U="$"}var H=D+$+q+U+N;o=H}if(o!==""&&u){o="(?=.)"+o}if(k){o=O+o}if(r===v){return[o,u]}if(!u){return globUnescape(t)}var V=i.nocase?"i":"";try{var J=new RegExp("^"+o+"$",V)}catch(t){return new RegExp("$.")}J._glob=t;J._src=o;return J}minimatch.makeRe=function(t,r){return new Minimatch(t,r||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var t=this.set;if(!t.length){this.regexp=false;return this.regexp}var r=this.options;var i=r.noglobstar?d:r.dot?h:p;var o=r.nocase?"i":"";var u=t.map((function(t){return t.map((function(t){return t===a?i:typeof t==="string"?regExpEscape(t):t._src})).join("\\/")})).join("|");u="^(?:"+u+")$";if(this.negate)u="^(?!"+u+").*$";try{this.regexp=new RegExp(u,o)}catch(t){this.regexp=false}return this.regexp}minimatch.match=function(t,r,i){i=i||{};var o=new Minimatch(r,i);t=t.filter((function(t){return o.match(t)}));if(o.options.nonull&&!t.length){t.push(r)}return t};Minimatch.prototype.match=function match(t,r){if(typeof r==="undefined")r=this.partial;this.debug("match",t,this.pattern);if(this.comment)return false;if(this.empty)return t==="";if(t==="/"&&r)return true;var i=this.options;if(o.sep!=="/"){t=t.split(o.sep).join("/")}t=t.split(_);this.debug(this.pattern,"split",t);var a=this.set;this.debug(this.pattern,"set",a);var u;var l;for(l=t.length-1;l>=0;l--){u=t[l];if(u)break}for(l=0;l<a.length;l++){var c=a[l];var d=t;if(i.matchBase&&c.length===1){d=[u]}var h=this.matchOne(d,c,r);if(h){if(i.flipNegate)return true;return!this.negate}}if(i.flipNegate)return false;return this.negate};Minimatch.prototype.matchOne=function(t,r,i){var o=this.options;this.debug("matchOne",{this:this,file:t,pattern:r});this.debug("matchOne",t.length,r.length);for(var u=0,l=0,c=t.length,d=r.length;u<c&&l<d;u++,l++){this.debug("matchOne loop");var h=r[l];var p=t[u];this.debug(r,h,p);if(h===false)return false;if(h===a){this.debug("GLOBSTAR",[r,h,p]);var m=u;var _=l+1;if(_===d){this.debug("** at the end");for(;u<c;u++){if(t[u]==="."||t[u]===".."||!o.dot&&t[u].charAt(0)===".")return false}return true}while(m<c){var g=t[m];this.debug("\nglobstar while",t,m,r,_,g);if(this.matchOne(t.slice(m),r.slice(_),i)){this.debug("globstar found match!",m,c,g);return true}else{if(g==="."||g===".."||!o.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,m,r,_);break}this.debug("globstar swallow a segment, and continue");m++}}if(i){this.debug("\n>>> no match, partial?",t,m,r,_);if(m===c)return true}return false}var v;if(typeof h==="string"){v=p===h;this.debug("string match",h,p,v)}else{v=p.match(h);this.debug("pattern match",h,p,v)}if(!v)return false}if(u===c&&l===d){return true}else if(u===c){return i}else if(l===d){return u===c-1&&t[u]===""}throw new Error("wtf?")};function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},4833:t=>{"use strict";function _createForOfIteratorHelper(t,r){var i=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&typeof t.length==="number"){if(i)t=i;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=true,l=false,c;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){l=true;c=t},f:function f(){try{if(!u&&i["return"]!=null)i["return"]()}finally{if(l)throw c}}}}function _defineProperty(t,r,i){if(r in t){Object.defineProperty(t,r,{value:i,enumerable:true,configurable:true,writable:true})}else{t[r]=i}return t}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor)i=t.constructor.name;if(i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}function _arrayLikeToArray(t,r){if(r==null||r>t.length)r=t.length;for(var i=0,o=new Array(r);i<r;i++){o[i]=t[i]}return o}function _iterableToArrayLimit(t,r){var i=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i==null)return;var o=[];var a=true;var u=false;var l,c;try{for(i=i.call(t);!(a=(l=i.next()).done);a=true){o.push(l.value);if(r&&o.length===r)break}}catch(t){u=true;c=t}finally{try{if(!a&&i["return"]!=null)i["return"]()}finally{if(u)throw c}}return o}function _arrayWithHoles(t){if(Array.isArray(t))return t}t.exports=function(t){if(!t)return[];if(typeof t!=="string"||t.match(/^\s+$/))return[];var r=t.split("\n");if(r.length===0)return[];var i=[];var a=null;var l=null;var c=0;var d=0;var h=null;var p=function normal(t){var r;(r=l)===null||r===void 0?void 0:r.changes.push({type:"normal",normal:true,ln1:c++,ln2:d++,content:t});h.oldLines--;h.newLines--};var m=function start(t){var r;var u=(r=o(t))!==null&&r!==void 0?r:[],l=_slicedToArray(u,2),c=l[0],d=l[1];a={chunks:[],deletions:0,additions:0,from:c,to:d};i.push(a)};var _=function restart(){if(!a||a.chunks.length)m()};var g=function newFile(){_();a["new"]=true;a.from="/dev/null"};var v=function deletedFile(){_();a.deleted=true;a.to="/dev/null"};var b=function index(t){_();a.index=t.split(" ").slice(1)};var y=function fromFile(t){_();a.from=u(t)};var w=function toFile(t){_();a.to=u(t)};var O=function toNumOfLines(t){return+(t||1)};var S=function chunk(t,r){if(!a)return;var i=r.slice(1),o=_slicedToArray(i,4),u=o[0],p=o[1],m=o[2],_=o[3];c=+u;d=+m;l={content:t,changes:[],oldStart:+u,oldLines:O(p),newStart:+m,newLines:O(_)};h={oldLines:O(p),newLines:O(_)};a.chunks.push(l)};var E=function del(t){if(!l)return;l.changes.push({type:"del",del:true,ln:c++,content:t});a.deletions++;h.oldLines--};var R=function add(t){if(!l)return;l.changes.push({type:"add",add:true,ln:d++,content:t});a.additions++;h.newLines--};var P=function eof(t){var r;if(!l)return;var i=l.changes.slice(-1),o=_slicedToArray(i,1),a=o[0];l.changes.push((r={type:a.type},_defineProperty(r,a.type,true),_defineProperty(r,"ln1",a.ln1),_defineProperty(r,"ln2",a.ln2),_defineProperty(r,"ln",a.ln),_defineProperty(r,"content",t),r))};var C=[[/^diff\s/,m],[/^new file mode \d+$/,g],[/^deleted file mode \d+$/,v],[/^index\s[\da-zA-Z]+\.\.[\da-zA-Z]+(\s(\d+))?$/,b],[/^---\s/,y],[/^\+\+\+\s/,w],[/^@@\s+-(\d+),?(\d+)?\s+\+(\d+),?(\d+)?\s@@/,S],[/^\\ No newline at end of file$/,P]];var A=[[/^-/,E],[/^\+/,R],[/^\s+/,p]];var x=function parseContentLine(t){var r=_createForOfIteratorHelper(A),i;try{for(r.s();!(i=r.n()).done;){var o=_slicedToArray(i.value,2),a=o[0],u=o[1];var l=t.match(a);if(l){u(t,l);break}}}catch(t){r.e(t)}finally{r.f()}if(h.oldLines===0&&h.newLines===0){h=null}};var I=function parseHeaderLine(t){var r=_createForOfIteratorHelper(C),i;try{for(r.s();!(i=r.n()).done;){var o=_slicedToArray(i.value,2),a=o[0],u=o[1];var l=t.match(a);if(l){u(t,l);break}}}catch(t){r.e(t)}finally{r.f()}};var T=function parseLine(t){if(h){x(t)}else{I(t)}return};var k=_createForOfIteratorHelper(r),M;try{for(k.s();!(M=k.n()).done;){var j=M.value;T(j)}}catch(t){k.e(t)}finally{k.f()}return i};var r=/(a|i|w|c|o|1|2)\/.*(?=["']? ["']?(b|i|w|c|o|1|2)\/)|(b|i|w|c|o|1|2)\/.*$/g;var i=/^(a|b|i|w|c|o|1|2)\//;var o=function parseFiles(t){var o=t===null||t===void 0?void 0:t.match(r);return o===null||o===void 0?void 0:o.map((function(t){return t.replace(i,"").replace(/("|')$/,"")}))};var a=/^\\?['"]|\\?['"]$/g;var u=function parseOldOrNewFile(t){var r=l(t,"-+").trim();r=d(r);return r.replace(a,"").replace(i,"")};var l=function leftTrimChars(t,r){t=p(t);if(!r&&String.prototype.trimLeft)return t.trimLeft();var i=h(r);return t.replace(new RegExp("^".concat(i,"+")),"")};var c=/\t.*|\d{4}-\d\d-\d\d\s\d\d:\d\d:\d\d(.\d+)?\s(\+|-)\d\d\d\d/;var d=function removeTimeStamp(t){var r=c.exec(t);if(r){t=t.substring(0,r.index).trim()}return t};var h=function formTrimmingString(t){if(t===null||t===undefined)return"\\s";else if(t instanceof RegExp)return t.source;return"[".concat(p(t).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"]")};var p=function makeString(t){return(t!==null&&t!==void 0?t:"")+""}},4294:(t,r,i)=>{t.exports=i(4219)},4219:(t,r,i)=>{"use strict";var o=i(1808);var a=i(4404);var u=i(3685);var l=i(5687);var c=i(2361);var d=i(9491);var h=i(3837);r.httpOverHttp=httpOverHttp;r.httpsOverHttp=httpsOverHttp;r.httpOverHttps=httpOverHttps;r.httpsOverHttps=httpsOverHttps;function httpOverHttp(t){var r=new TunnelingAgent(t);r.request=u.request;return r}function httpsOverHttp(t){var r=new TunnelingAgent(t);r.request=u.request;r.createSocket=createSecureSocket;r.defaultPort=443;return r}function httpOverHttps(t){var r=new TunnelingAgent(t);r.request=l.request;return r}function httpsOverHttps(t){var r=new TunnelingAgent(t);r.request=l.request;r.createSocket=createSecureSocket;r.defaultPort=443;return r}function TunnelingAgent(t){var r=this;r.options=t||{};r.proxyOptions=r.options.proxy||{};r.maxSockets=r.options.maxSockets||u.Agent.defaultMaxSockets;r.requests=[];r.sockets=[];r.on("free",(function onFree(t,i,o,a){var u=toOptions(i,o,a);for(var l=0,c=r.requests.length;l<c;++l){var d=r.requests[l];if(d.host===u.host&&d.port===u.port){r.requests.splice(l,1);d.request.onSocket(t);return}}t.destroy();r.removeSocket(t)}))}h.inherits(TunnelingAgent,c.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(t,r,i,o){var a=this;var u=mergeOptions({request:t},a.options,toOptions(r,i,o));if(a.sockets.length>=this.maxSockets){a.requests.push(u);return}a.createSocket(u,(function(r){r.on("free",onFree);r.on("close",onCloseOrRemove);r.on("agentRemove",onCloseOrRemove);t.onSocket(r);function onFree(){a.emit("free",r,u)}function onCloseOrRemove(t){a.removeSocket(r);r.removeListener("free",onFree);r.removeListener("close",onCloseOrRemove);r.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(t,r){var i=this;var o={};i.sockets.push(o);var a=mergeOptions({},i.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:false,headers:{host:t.host+":"+t.port}});if(t.localAddress){a.localAddress=t.localAddress}if(a.proxyAuth){a.headers=a.headers||{};a.headers["Proxy-Authorization"]="Basic "+new Buffer(a.proxyAuth).toString("base64")}p("making CONNECT request");var u=i.request(a);u.useChunkedEncodingByDefault=false;u.once("response",onResponse);u.once("upgrade",onUpgrade);u.once("connect",onConnect);u.once("error",onError);u.end();function onResponse(t){t.upgrade=true}function onUpgrade(t,r,i){process.nextTick((function(){onConnect(t,r,i)}))}function onConnect(a,l,c){u.removeAllListeners();l.removeAllListeners();if(a.statusCode!==200){p("tunneling socket could not be established, statusCode=%d",a.statusCode);l.destroy();var d=new Error("tunneling socket could not be established, "+"statusCode="+a.statusCode);d.code="ECONNRESET";t.request.emit("error",d);i.removeSocket(o);return}if(c.length>0){p("got illegal response body from proxy");l.destroy();var d=new Error("got illegal response body from proxy");d.code="ECONNRESET";t.request.emit("error",d);i.removeSocket(o);return}p("tunneling connection has established");i.sockets[i.sockets.indexOf(o)]=l;return r(l)}function onError(r){u.removeAllListeners();p("tunneling socket could not be established, cause=%s\n",r.message,r.stack);var a=new Error("tunneling socket could not be established, "+"cause="+r.message);a.code="ECONNRESET";t.request.emit("error",a);i.removeSocket(o)}};TunnelingAgent.prototype.removeSocket=function removeSocket(t){var r=this.sockets.indexOf(t);if(r===-1){return}this.sockets.splice(r,1);var i=this.requests.shift();if(i){this.createSocket(i,(function(t){i.request.onSocket(t)}))}};function createSecureSocket(t,r){var i=this;TunnelingAgent.prototype.createSocket.call(i,t,(function(o){var u=t.request.getHeader("host");var l=mergeOptions({},i.options,{socket:o,servername:u?u.replace(/:.*$/,""):t.host});var c=a.connect(0,l);i.sockets[i.sockets.indexOf(o)]=c;r(c)}))}function toOptions(t,r,i){if(typeof t==="string"){return{host:t,port:r,localAddress:i}}return t}function mergeOptions(t){for(var r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(typeof o==="object"){var a=Object.keys(o);for(var u=0,l=a.length;u<l;++u){var c=a[u];if(o[c]!==undefined){t[c]=o[c]}}}}return t}var p;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){p=function(){var t=Array.prototype.slice.call(arguments);if(typeof t[0]==="string"){t[0]="TUNNEL: "+t[0]}else{t.unshift("TUNNEL:")}console.error.apply(console,t)}}else{p=function(){}}r.debug=p},5840:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});Object.defineProperty(r,"v1",{enumerable:true,get:function(){return o.default}});Object.defineProperty(r,"v3",{enumerable:true,get:function(){return a.default}});Object.defineProperty(r,"v4",{enumerable:true,get:function(){return u.default}});Object.defineProperty(r,"v5",{enumerable:true,get:function(){return l.default}});Object.defineProperty(r,"NIL",{enumerable:true,get:function(){return c.default}});Object.defineProperty(r,"version",{enumerable:true,get:function(){return d.default}});Object.defineProperty(r,"validate",{enumerable:true,get:function(){return h.default}});Object.defineProperty(r,"stringify",{enumerable:true,get:function(){return p.default}});Object.defineProperty(r,"parse",{enumerable:true,get:function(){return m.default}});var o=_interopRequireDefault(i(8628));var a=_interopRequireDefault(i(6409));var u=_interopRequireDefault(i(5122));var l=_interopRequireDefault(i(9120));var c=_interopRequireDefault(i(5332));var d=_interopRequireDefault(i(1595));var h=_interopRequireDefault(i(6900));var p=_interopRequireDefault(i(8950));var m=_interopRequireDefault(i(2746));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},4569:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(6113));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function md5(t){if(Array.isArray(t)){t=Buffer.from(t)}else if(typeof t==="string"){t=Buffer.from(t,"utf8")}return o.default.createHash("md5").update(t).digest()}var a=md5;r["default"]=a},5332:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var i="00000000-0000-0000-0000-000000000000";r["default"]=i},2746:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(6900));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function parse(t){if(!(0,o.default)(t)){throw TypeError("Invalid UUID")}let r;const i=new Uint8Array(16);i[0]=(r=parseInt(t.slice(0,8),16))>>>24;i[1]=r>>>16&255;i[2]=r>>>8&255;i[3]=r&255;i[4]=(r=parseInt(t.slice(9,13),16))>>>8;i[5]=r&255;i[6]=(r=parseInt(t.slice(14,18),16))>>>8;i[7]=r&255;i[8]=(r=parseInt(t.slice(19,23),16))>>>8;i[9]=r&255;i[10]=(r=parseInt(t.slice(24,36),16))/1099511627776&255;i[11]=r/4294967296&255;i[12]=r>>>24&255;i[13]=r>>>16&255;i[14]=r>>>8&255;i[15]=r&255;return i}var a=parse;r["default"]=a},814:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;r["default"]=i},807:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=rng;var o=_interopRequireDefault(i(6113));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const a=new Uint8Array(256);let u=a.length;function rng(){if(u>a.length-16){o.default.randomFillSync(a);u=0}return a.slice(u,u+=16)}},5274:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(6113));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function sha1(t){if(Array.isArray(t)){t=Buffer.from(t)}else if(typeof t==="string"){t=Buffer.from(t,"utf8")}return o.default.createHash("sha1").update(t).digest()}var a=sha1;r["default"]=a},8950:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(6900));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const a=[];for(let t=0;t<256;++t){a.push((t+256).toString(16).substr(1))}function stringify(t,r=0){const i=(a[t[r+0]]+a[t[r+1]]+a[t[r+2]]+a[t[r+3]]+"-"+a[t[r+4]]+a[t[r+5]]+"-"+a[t[r+6]]+a[t[r+7]]+"-"+a[t[r+8]]+a[t[r+9]]+"-"+a[t[r+10]]+a[t[r+11]]+a[t[r+12]]+a[t[r+13]]+a[t[r+14]]+a[t[r+15]]).toLowerCase();if(!(0,o.default)(i)){throw TypeError("Stringified UUID is invalid")}return i}var u=stringify;r["default"]=u},8628:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(807));var a=_interopRequireDefault(i(8950));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}let u;let l;let c=0;let d=0;function v1(t,r,i){let h=r&&i||0;const p=r||new Array(16);t=t||{};let m=t.node||u;let _=t.clockseq!==undefined?t.clockseq:l;if(m==null||_==null){const r=t.random||(t.rng||o.default)();if(m==null){m=u=[r[0]|1,r[1],r[2],r[3],r[4],r[5]]}if(_==null){_=l=(r[6]<<8|r[7])&16383}}let g=t.msecs!==undefined?t.msecs:Date.now();let v=t.nsecs!==undefined?t.nsecs:d+1;const b=g-c+(v-d)/1e4;if(b<0&&t.clockseq===undefined){_=_+1&16383}if((b<0||g>c)&&t.nsecs===undefined){v=0}if(v>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}c=g;d=v;l=_;g+=122192928e5;const y=((g&268435455)*1e4+v)%4294967296;p[h++]=y>>>24&255;p[h++]=y>>>16&255;p[h++]=y>>>8&255;p[h++]=y&255;const w=g/4294967296*1e4&268435455;p[h++]=w>>>8&255;p[h++]=w&255;p[h++]=w>>>24&15|16;p[h++]=w>>>16&255;p[h++]=_>>>8|128;p[h++]=_&255;for(let t=0;t<6;++t){p[h+t]=m[t]}return r||(0,a.default)(p)}var h=v1;r["default"]=h},6409:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(5998));var a=_interopRequireDefault(i(4569));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const u=(0,o.default)("v3",48,a.default);var l=u;r["default"]=l},5998:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=_default;r.URL=r.DNS=void 0;var o=_interopRequireDefault(i(8950));var a=_interopRequireDefault(i(2746));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function stringToBytes(t){t=unescape(encodeURIComponent(t));const r=[];for(let i=0;i<t.length;++i){r.push(t.charCodeAt(i))}return r}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=l;function _default(t,r,i){function generateUUID(t,u,l,c){if(typeof t==="string"){t=stringToBytes(t)}if(typeof u==="string"){u=(0,a.default)(u)}if(u.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let d=new Uint8Array(16+t.length);d.set(u);d.set(t,u.length);d=i(d);d[6]=d[6]&15|r;d[8]=d[8]&63|128;if(l){c=c||0;for(let t=0;t<16;++t){l[c+t]=d[t]}return l}return(0,o.default)(d)}try{generateUUID.name=t}catch(t){}generateUUID.DNS=u;generateUUID.URL=l;return generateUUID}},5122:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(807));var a=_interopRequireDefault(i(8950));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function v4(t,r,i){t=t||{};const u=t.random||(t.rng||o.default)();u[6]=u[6]&15|64;u[8]=u[8]&63|128;if(r){i=i||0;for(let t=0;t<16;++t){r[i+t]=u[t]}return r}return(0,a.default)(u)}var u=v4;r["default"]=u},9120:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(5998));var a=_interopRequireDefault(i(5274));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const u=(0,o.default)("v5",80,a.default);var l=u;r["default"]=l},6900:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(814));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function validate(t){return typeof t==="string"&&o.default.test(t)}var a=validate;r["default"]=a},1595:(t,r,i)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]=void 0;var o=_interopRequireDefault(i(6900));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function version(t){if(!(0,o.default)(t)){throw TypeError("Invalid UUID")}return parseInt(t.substr(14,1),16)}var a=version;r["default"]=a},4275:function(t,r,i){"use strict";var o=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:true});r.generateActivityDiff=r.loadActivities=r.generateDiff=void 0;const u=i(4393);const l=i(2081);const c=a(i(1017));const d=a(i(7147));const h=a(i(4833));const p=i(3580);const m=[[/\//g,"\\/"],[/`/g,"\\`"],[/\*/g,"\\*"],[/_/g,"\\_"],[/\{/g,"\\{"],[/\}/g,"\\}"],[/\[/g,"\\["],[/\]/g,"\\]"],[/</g,"&lt;"],[/>/g,"&gt;"],[/\(/g,"\\("],[/\)/g,"\\)"],[/#/g,"\\#"],[/\+/g,"\\+"],[/-/g,"\\-"],[/\./g,"\\."],[/!/g,"\\!"],[/\|/g,"\\|"]];function markdownEscape(t){return m.reduce(((t,r)=>t.replace(r[0],r[1])),t)}function streamToBuffer(t){return o(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{const o=Array();t.on("data",(t=>o.push(t)));t.on("end",(()=>r(Buffer.concat(o))));t.on("error",(t=>i(`Error reading stream: ${t}`)))}))}))}function generateDiff(t,r,i){return o(this,void 0,void 0,(function*(){const o=(0,l.spawn)("git",["diff",`${r}...${i}`],{cwd:t});const a=yield streamToBuffer(o.stdout);const u=(0,h.default)(a.toString());console.log(u);return u}))}r.generateDiff=generateDiff;function loadActivities(t,r,i){return o(this,void 0,void 0,(function*(){let o;if(typeof i!=="undefined"){const a=(0,l.spawn)("git",["show",`${i}:${r}`],{cwd:t});o=yield streamToBuffer(a.stdout)}else{const i=c.default.join(t,r);o=d.default.readFileSync(i,"utf-8")}const a=(0,u.parse)(o,{columns:true,skip_empty_lines:true});return a}))}r.loadActivities=loadActivities;function getModifiedColumns(t,r){const i=(0,p.setUnion)(new Set(Object.keys(t)),new Set(Object.keys(r)));const o=[...i].filter((i=>i in t&&i in r&&t[i]!==r[i]&&t[i].replace(/\r\n/g,"\n")!==r[i].replace(/\r\n/g,"\n")));return o}function getEscapedTitle(t){return"Title"in t&&t["Title"]!==""?markdownEscape(t["Title"]):"missing title"}function generateActivityDiff(t,r,i,a,u,l){return o(this,void 0,void 0,(function*(){let o;if(u&&l){o=yield generateDiff(a,u,l)}const c=[];const d=getTaskTable(t);const h=getTaskTable(r);const p=getActivityChanges(d,h,i,o);const m=[];if(Object.keys(p.added).length>0){c.push("### New activities\n");for(const[t,r]of Object.entries(p.added)){m.push(`[${t}]: ## "${t}"\n`);c.push(` - [${getEscapedTitle(r)}][${t}]${getLogicFlagsString(r)}\n`)}}if(Object.keys(p.removed).length>0){c.push("### Removed activities\n");for(const[t,r]of Object.entries(p.removed)){m.push(`[${t}]: ## "${t}"\n`);c.push(` - [${getEscapedTitle(r)}][${t}]${getLogicFlagsString(r)}\n`)}}if(Object.keys(p.modified).length>0){c.push("### Modified activities\n");for(const[t,[r,a]]of Object.entries(p.modified)){m.push(`[${t}]: ## "${t}"\n`);c.push(` - [${getEscapedTitle(a)}][${t}]${getLogicFlagsString(a)}\n`);const u="Action Link"in h[t]?h[t]["Action Link"]:undefined;getModifiedColumns(r,a).forEach((t=>{const i=t in r?markdownEscape(r[t]):"(null)";const o=t in a?markdownEscape(a[t]):"(null)";if(i.length<40&&o.length<40){c.push(`   - **${t}** changed from "${i}" to "${o}"\n`)}else{c.push(`   - **${t}** changed\n`)}}));if(u&&o){const t=o;if(hasModifiedFile(u,t)){c.push(`   - **Task ${u}** changed\n`)}if(u in i){[...i[u]].forEach((r=>{if(hasModifiedFile(r,t)){c.push(`   - **Media ${u}** changed\n`)}}))}}}}return[m.join(""),c.join("")].join("")}))}r.generateActivityDiff=generateActivityDiff;function hasModifiedColumns(t,r){return getModifiedColumns(t,r).length>0}function hasModifiedFile(t,r){return r.findIndex((r=>r.from===t||r.to==t))!=-1}function hasModifiedFileInSet(t,r){return r.findIndex((r=>r.from&&t.has(r.from)||r.to&&t.has(r.to)))!=-1}function getTaskTable(t){const r={};t.forEach((t=>{if("UUID"in t&&t["UUID"]!==""){r[t["UUID"]]=t}}));return r}function isDevCheck(t){const r=JSON.stringify({"==":["dev",{var:"server.env"}]});const i=JSON.stringify({"==":[{var:"server.env"},"dev"]});const o=JSON.stringify(t);return o===r||o===i}function getLogicFlags(t){if("JsonLogic"in t){const r=t["JsonLogic"];if(r.trim()===""){return null}try{const t=JSON.parse(r);console.log(t);if(!t){return"disabled"}if(isDevCheck(t)){return"dev only"}if("and"in t){const r=t["and"];if(Array.isArray(r)){if(r.reduce(((t,r)=>t==t||isDevCheck(r)),false)){return"dev only"}}return null}}catch(t){}}return null}function getLogicFlagsString(t){const r=getLogicFlags(t);return r!=null?` (${r})`:""}function getActivityChanges(t,r,i,o){const a=new Set(Object.keys(t));const u=new Set(Object.keys(r));const l={};(0,p.setSubtract)(u,a).forEach((t=>l[t]=r[t]));const c={};(0,p.setSubtract)(a,u).forEach((r=>c[r]=t[r]));const d={};[...(0,p.setIntersection)(a,u)].filter((a=>{if(hasModifiedColumns(t[a],r[a])){return true}const u="Action Link"in r[a]?r[a]["Action Link"]:undefined;if(!u||!o){return false}return hasModifiedFile(u,o)||hasModifiedFileInSet(i[u],o)})).forEach((i=>{d[i]=[t[i],r[i]]}));return{added:l,removed:c,modified:d}}},399:function(__unused_webpack_module,exports,__nccwpck_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(t,r,i,o){if(o===undefined)o=i;var a=Object.getOwnPropertyDescriptor(r,i);if(!a||("get"in a?!r.__esModule:a.writable||a.configurable)){a={enumerable:true,get:function(){return r[i]}}}Object.defineProperty(t,o,a)}:function(t,r,i,o){if(o===undefined)o=i;t[o]=r[i]});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:true,value:r})}:function(t,r){t["default"]=r});var __importStar=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i))__createBinding(r,t,i);__setModuleDefault(r,t);return r};var __awaiter=this&&this.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:true});exports.run=void 0;const core=__importStar(__nccwpck_require__(2186));const path=__importStar(__nccwpck_require__(1017));const fs_1=__importDefault(__nccwpck_require__(7147));const glob=__importStar(__nccwpck_require__(8090));const diff_1=__nccwpck_require__(4275);const set_1=__nccwpck_require__(3580);function logGroup(t,r,i){if(t.size>0){core.startGroup(r);for(const r of t){i?core.error(r):core.info(r)}core.endGroup()}}function getReferencedTaskFiles(t){const r=new Set;for(let i=0;i<t.length;i++){const o=t[i];if("Action Link"in o&&o["Action Link"]){r.add(o["Action Link"])}}return r}function getTaskFiles(t){return __awaiter(this,void 0,void 0,(function*(){const r=new Set;const i=yield glob.create(path.join(t,"tasks/*.json"));const o=yield i.glob();for(const i of o){r.add(core.toPosixPath(path.relative(t,i)))}return r}))}function getMediaFiles(t){return __awaiter(this,void 0,void 0,(function*(){const r=new Set;const i=yield glob.create(path.join(t,"video/*"));const o=yield i.glob();for(const i of o){r.add(core.toPosixPath(path.relative(t,i)))}return r}))}function getReferencedMediaFiles(t,r){const i={};for(const o of r){const r=new Set;const a=path.join(t,core.toPlatformPath(o));const u=JSON.parse(fs_1.default.readFileSync(a,"utf8"));for(let t=0;t<u["steps"].length;t++){const i=u["steps"][t];if("videoUrl"in u["steps"][t]){r.add(decodeURI(i["videoUrl"]))}if("audioUrl"in u["steps"][t]){r.add(decodeURI(i["audioUrl"]))}}i[o]=r}return i}function run(){return __awaiter(this,void 0,void 0,(function*(){try{const t=process.env.GITHUB_WORKSPACE;const r=process.env.GITHUB_STEP_SUMMARY;const i=core.getInput("csv",{required:true});const o=core.getInput("magic_tasks");const a=core.getInput("git_base_sha");const u=core.getInput("git_head_sha");if(!t){throw new Error(`$GITHUB_WORKSPACE is not set`)}const l=path.resolve(t);const c=core.toPlatformPath(i);const d=a?yield(0,diff_1.loadActivities)(l,c,a):undefined;if(a&&u){yield(0,diff_1.generateDiff)(l,a,u)}const h=yield(0,diff_1.loadActivities)(l,c);const p=yield getTaskFiles(l);const m=getReferencedTaskFiles(h);const _=(0,set_1.setIntersection)(m,p);const g=getReferencedMediaFiles(l,_);if(d){const t=yield(0,diff_1.generateActivityDiff)(d,h,g,l,a,u);if(!r){console.log(`$GITHUB_STEP_SUMMARY is not set`);console.log(t)}yield core.summary.addRaw(t).write()}for(const t of o.split(",")){if(t){m.add(t)}}const v=(0,set_1.setSubtract)(m,p);const b=(0,set_1.setSubtract)(p,m);const y=yield getMediaFiles(l);const w=Object.values(g).reduce(((t,r)=>(0,set_1.setUnion)(t,r)),new Set);const O=(0,set_1.setSubtract)(w,y);const S=(0,set_1.setSubtract)(y,w);logGroup(v,"Missing task files",true);logGroup(b,"Unused task files",false);logGroup(O,"Missing media files",true);logGroup(S,"Unused media files",false);if(v.size>0||O.size>0){core.setFailed(`ubik2/check-references-action failed with missing files`)}}catch(t){core.setFailed(`ubik2/check-references-action failed with: ${t}`)}}))}exports.run=run;if(require.main===require.cache[eval("__filename")]){run()}},3580:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});r.setIntersection=r.setUnion=r.setSubtract=void 0;function setSubtract(t,r){return new Set([...t].filter((t=>!r.has(t))))}r.setSubtract=setSubtract;function setUnion(t,r){const i=new Set(t);[...r].forEach((t=>i.add(t)));return i}r.setUnion=setUnion;function setIntersection(t,r){return new Set([...t].filter((t=>r.has(t))))}r.setIntersection=setIntersection},9491:t=>{"use strict";t.exports=require("assert")},2081:t=>{"use strict";t.exports=require("child_process")},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5687:t=>{"use strict";t.exports=require("https")},1808:t=>{"use strict";t.exports=require("net")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},4404:t=>{"use strict";t.exports=require("tls")},3837:t=>{"use strict";t.exports=require("util")},4393:(t,r)=>{"use strict";class CsvError extends Error{constructor(t,r,i,...o){if(Array.isArray(r))r=r.join(" ").trim();super(r);if(Error.captureStackTrace!==undefined){Error.captureStackTrace(this,CsvError)}this.code=t;for(const t of o){for(const r in t){const o=t[r];this[r]=Buffer.isBuffer(o)?o.toString(i.encoding):o==null?o:JSON.parse(JSON.stringify(o))}}}}const is_object=function(t){return typeof t==="object"&&t!==null&&!Array.isArray(t)};const normalize_columns_array=function(t){const r=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];if(o===undefined||o===null||o===false){r[i]={disabled:true}}else if(typeof o==="string"){r[i]={name:o}}else if(is_object(o)){if(typeof o.name!=="string"){throw new CsvError("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"])}r[i]=o}else{throw new CsvError("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(o)} at position ${i}`])}}return r};class ResizeableBuffer{constructor(t=100){this.size=t;this.length=0;this.buf=Buffer.allocUnsafe(t)}prepend(t){if(Buffer.isBuffer(t)){const r=this.length+t.length;if(r>=this.size){this.resize();if(r>=this.size){throw Error("INVALID_BUFFER_STATE")}}const i=this.buf;this.buf=Buffer.allocUnsafe(this.size);t.copy(this.buf,0);i.copy(this.buf,t.length);this.length+=t.length}else{const r=this.length++;if(r===this.size){this.resize()}const i=this.clone();this.buf[0]=t;i.copy(this.buf,1,0,r)}}append(t){const r=this.length++;if(r===this.size){this.resize()}this.buf[r]=t}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=this.size*2;const r=Buffer.allocUnsafe(this.size);this.buf.copy(r,0,0,t);this.buf=r}toString(t){if(t){return this.buf.slice(0,this.length).toString(t)}else{return Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const i=12;const o=13;const a=10;const u=32;const l=9;const init_state=function(t){return{bomSkipped:false,bufBytesStart:0,castField:t.cast_function,commenting:false,error:undefined,enabled:t.from_line===1,escaping:false,escapeIsQuote:Buffer.isBuffer(t.escape)&&Buffer.isBuffer(t.quote)&&Buffer.compare(t.escape,t.quote)===0,expectedRecordLength:Array.isArray(t.columns)?t.columns.length:undefined,field:new ResizeableBuffer(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(t.comment!==null?t.comment.length:0,...t.delimiter.map((t=>t.length)),t.quote!==null?t.quote.length:0),previousBuf:undefined,quoting:false,stop:false,rawBuffer:new ResizeableBuffer(100),record:[],recordHasError:false,record_length:0,recordDelimiterMaxLength:t.record_delimiter.length===0?0:Math.max(...t.record_delimiter.map((t=>t.length))),trimChars:[Buffer.from(" ",t.encoding)[0],Buffer.from("\t",t.encoding)[0]],wasQuoting:false,wasRowDelimiter:false,timchars:[Buffer.from(Buffer.from([o],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([a],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([i],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([u],"utf8").toString(),t.encoding),Buffer.from(Buffer.from([l],"utf8").toString(),t.encoding)]}};const underscore=function(t){return t.replace(/([A-Z])/g,(function(t,r){return"_"+r.toLowerCase()}))};const normalize_options=function(t){const r={};for(const i in t){r[underscore(i)]=t[i]}if(r.encoding===undefined||r.encoding===true){r.encoding="utf8"}else if(r.encoding===null||r.encoding===false){r.encoding=null}else if(typeof r.encoding!=="string"&&r.encoding!==null){throw new CsvError("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(r.encoding)}`],r)}if(r.bom===undefined||r.bom===null||r.bom===false){r.bom=false}else if(r.bom!==true){throw new CsvError("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(r.bom)}`],r)}r.cast_function=null;if(r.cast===undefined||r.cast===null||r.cast===false||r.cast===""){r.cast=undefined}else if(typeof r.cast==="function"){r.cast_function=r.cast;r.cast=true}else if(r.cast!==true){throw new CsvError("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(r.cast)}`],r)}if(r.cast_date===undefined||r.cast_date===null||r.cast_date===false||r.cast_date===""){r.cast_date=false}else if(r.cast_date===true){r.cast_date=function(t){const r=Date.parse(t);return!isNaN(r)?new Date(r):t}}else if(typeof r.cast_date!=="function"){throw new CsvError("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(r.cast_date)}`],r)}r.cast_first_line_to_header=null;if(r.columns===true){r.cast_first_line_to_header=undefined}else if(typeof r.columns==="function"){r.cast_first_line_to_header=r.columns;r.columns=true}else if(Array.isArray(r.columns)){r.columns=normalize_columns_array(r.columns)}else if(r.columns===undefined||r.columns===null||r.columns===false){r.columns=false}else{throw new CsvError("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(r.columns)}`],r)}if(r.group_columns_by_name===undefined||r.group_columns_by_name===null||r.group_columns_by_name===false){r.group_columns_by_name=false}else if(r.group_columns_by_name!==true){throw new CsvError("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(r.group_columns_by_name)}`],r)}else if(r.columns===false){throw new CsvError("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],r)}if(r.comment===undefined||r.comment===null||r.comment===false||r.comment===""){r.comment=null}else{if(typeof r.comment==="string"){r.comment=Buffer.from(r.comment,r.encoding)}if(!Buffer.isBuffer(r.comment)){throw new CsvError("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(r.comment)}`],r)}}const i=JSON.stringify(r.delimiter);if(!Array.isArray(r.delimiter))r.delimiter=[r.delimiter];if(r.delimiter.length===0){throw new CsvError("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],r)}r.delimiter=r.delimiter.map((function(t){if(t===undefined||t===null||t===false){return Buffer.from(",",r.encoding)}if(typeof t==="string"){t=Buffer.from(t,r.encoding)}if(!Buffer.isBuffer(t)||t.length===0){throw new CsvError("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],r)}return t}));if(r.escape===undefined||r.escape===true){r.escape=Buffer.from('"',r.encoding)}else if(typeof r.escape==="string"){r.escape=Buffer.from(r.escape,r.encoding)}else if(r.escape===null||r.escape===false){r.escape=null}if(r.escape!==null){if(!Buffer.isBuffer(r.escape)){throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(r.escape)}`)}}if(r.from===undefined||r.from===null){r.from=1}else{if(typeof r.from==="string"&&/\d+/.test(r.from)){r.from=parseInt(r.from)}if(Number.isInteger(r.from)){if(r.from<0){throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}}else{throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(r.from)}`)}}if(r.from_line===undefined||r.from_line===null){r.from_line=1}else{if(typeof r.from_line==="string"&&/\d+/.test(r.from_line)){r.from_line=parseInt(r.from_line)}if(Number.isInteger(r.from_line)){if(r.from_line<=0){throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}}else{throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`)}}if(r.ignore_last_delimiters===undefined||r.ignore_last_delimiters===null){r.ignore_last_delimiters=false}else if(typeof r.ignore_last_delimiters==="number"){r.ignore_last_delimiters=Math.floor(r.ignore_last_delimiters);if(r.ignore_last_delimiters===0){r.ignore_last_delimiters=false}}else if(typeof r.ignore_last_delimiters!=="boolean"){throw new CsvError("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(r.ignore_last_delimiters)}`],r)}if(r.ignore_last_delimiters===true&&r.columns===false){throw new CsvError("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],r)}if(r.info===undefined||r.info===null||r.info===false){r.info=false}else if(r.info!==true){throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(r.info)}`)}if(r.max_record_size===undefined||r.max_record_size===null||r.max_record_size===false){r.max_record_size=0}else if(Number.isInteger(r.max_record_size)&&r.max_record_size>=0);else if(typeof r.max_record_size==="string"&&/\d+/.test(r.max_record_size)){r.max_record_size=parseInt(r.max_record_size)}else{throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(r.max_record_size)}`)}if(r.objname===undefined||r.objname===null||r.objname===false){r.objname=undefined}else if(Buffer.isBuffer(r.objname)){if(r.objname.length===0){throw new Error(`Invalid Option: objname must be a non empty buffer`)}if(r.encoding===null);else{r.objname=r.objname.toString(r.encoding)}}else if(typeof r.objname==="string"){if(r.objname.length===0){throw new Error(`Invalid Option: objname must be a non empty string`)}}else if(typeof r.objname==="number");else{throw new Error(`Invalid Option: objname must be a string or a buffer, got ${r.objname}`)}if(r.objname!==undefined){if(typeof r.objname==="number"){if(r.columns!==false){throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}}else{if(r.columns===false){throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}}}if(r.on_record===undefined||r.on_record===null){r.on_record=undefined}else if(typeof r.on_record!=="function"){throw new CsvError("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(r.on_record)}`],r)}if(r.quote===null||r.quote===false||r.quote===""){r.quote=null}else{if(r.quote===undefined||r.quote===true){r.quote=Buffer.from('"',r.encoding)}else if(typeof r.quote==="string"){r.quote=Buffer.from(r.quote,r.encoding)}if(!Buffer.isBuffer(r.quote)){throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(r.quote)}`)}}if(r.raw===undefined||r.raw===null||r.raw===false){r.raw=false}else if(r.raw!==true){throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(r.raw)}`)}if(r.record_delimiter===undefined){r.record_delimiter=[]}else if(typeof r.record_delimiter==="string"||Buffer.isBuffer(r.record_delimiter)){if(r.record_delimiter.length===0){throw new CsvError("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(r.record_delimiter)}`],r)}r.record_delimiter=[r.record_delimiter]}else if(!Array.isArray(r.record_delimiter)){throw new CsvError("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(r.record_delimiter)}`],r)}r.record_delimiter=r.record_delimiter.map((function(t,i){if(typeof t!=="string"&&!Buffer.isBuffer(t)){throw new CsvError("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],r)}else if(t.length===0){throw new CsvError("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(t)}`],r)}if(typeof t==="string"){t=Buffer.from(t,r.encoding)}return t}));if(typeof r.relax_column_count==="boolean");else if(r.relax_column_count===undefined||r.relax_column_count===null){r.relax_column_count=false}else{throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(r.relax_column_count)}`)}if(typeof r.relax_column_count_less==="boolean");else if(r.relax_column_count_less===undefined||r.relax_column_count_less===null){r.relax_column_count_less=false}else{throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(r.relax_column_count_less)}`)}if(typeof r.relax_column_count_more==="boolean");else if(r.relax_column_count_more===undefined||r.relax_column_count_more===null){r.relax_column_count_more=false}else{throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(r.relax_column_count_more)}`)}if(typeof r.relax_quotes==="boolean");else if(r.relax_quotes===undefined||r.relax_quotes===null){r.relax_quotes=false}else{throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(r.relax_quotes)}`)}if(typeof r.skip_empty_lines==="boolean");else if(r.skip_empty_lines===undefined||r.skip_empty_lines===null){r.skip_empty_lines=false}else{throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(r.skip_empty_lines)}`)}if(typeof r.skip_records_with_empty_values==="boolean");else if(r.skip_records_with_empty_values===undefined||r.skip_records_with_empty_values===null){r.skip_records_with_empty_values=false}else{throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(r.skip_records_with_empty_values)}`)}if(typeof r.skip_records_with_error==="boolean");else if(r.skip_records_with_error===undefined||r.skip_records_with_error===null){r.skip_records_with_error=false}else{throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(r.skip_records_with_error)}`)}if(r.rtrim===undefined||r.rtrim===null||r.rtrim===false){r.rtrim=false}else if(r.rtrim!==true){throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(r.rtrim)}`)}if(r.ltrim===undefined||r.ltrim===null||r.ltrim===false){r.ltrim=false}else if(r.ltrim!==true){throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(r.ltrim)}`)}if(r.trim===undefined||r.trim===null||r.trim===false){r.trim=false}else if(r.trim!==true){throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(r.trim)}`)}if(r.trim===true&&t.ltrim!==false){r.ltrim=true}else if(r.ltrim!==true){r.ltrim=false}if(r.trim===true&&t.rtrim!==false){r.rtrim=true}else if(r.rtrim!==true){r.rtrim=false}if(r.to===undefined||r.to===null){r.to=-1}else{if(typeof r.to==="string"&&/\d+/.test(r.to)){r.to=parseInt(r.to)}if(Number.isInteger(r.to)){if(r.to<=0){throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}}else{throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`)}}if(r.to_line===undefined||r.to_line===null){r.to_line=-1}else{if(typeof r.to_line==="string"&&/\d+/.test(r.to_line)){r.to_line=parseInt(r.to_line)}if(Number.isInteger(r.to_line)){if(r.to_line<=0){throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}}else{throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`)}}return r};const isRecordEmpty=function(t){return t.every((t=>t==null||t.toString&&t.toString().trim()===""))};const c=13;const d=10;const h={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])};const transform=function(t={}){const r={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0};const i=normalize_options(t);return{info:r,original_options:t,options:i,state:init_state(i),__needMoreData:function(t,r,i){if(i)return false;const{encoding:o,escape:a,quote:u}=this.options;const{quoting:l,needMoreDataSize:c,recordDelimiterMaxLength:d}=this.state;const h=r-t-1;const p=Math.max(c,d===0?Buffer.from("\r\n",o).length:d,l?(a===null?0:a.length)+u.length:0,l?u.length+d:0);return h<p},parse:function(t,r,i,o){const{bom:a,encoding:u,from_line:l,ltrim:p,max_record_size:m,raw:_,relax_quotes:g,rtrim:v,skip_empty_lines:b,to:y,to_line:w}=this.options;let{comment:O,escape:S,quote:E,record_delimiter:R}=this.options;const{bomSkipped:P,previousBuf:C,rawBuffer:A,escapeIsQuote:x}=this.state;let I;if(C===undefined){if(t===undefined){o();return}else{I=t}}else if(C!==undefined&&t===undefined){I=C}else{I=Buffer.concat([C,t])}if(P===false){if(a===false){this.state.bomSkipped=true}else if(I.length<3){if(r===false){this.state.previousBuf=I;return}}else{for(const t in h){if(h[t].compare(I,0,h[t].length)===0){const r=h[t].length;this.state.bufBytesStart+=r;I=I.slice(r);this.options=normalize_options({...this.original_options,encoding:t});({comment:O,escape:S,quote:E}=this.options);break}}this.state.bomSkipped=true}}const T=I.length;let k;for(k=0;k<T;k++){if(this.__needMoreData(k,T,r)){break}if(this.state.wasRowDelimiter===true){this.info.lines++;this.state.wasRowDelimiter=false}if(w!==-1&&this.info.lines>w){this.state.stop=true;o();return}if(this.state.quoting===false&&R.length===0){const t=this.__autoDiscoverRecordDelimiter(I,k);if(t){R=this.options.record_delimiter}}const t=I[k];if(_===true){A.append(t)}if((t===c||t===d)&&this.state.wasRowDelimiter===false){this.state.wasRowDelimiter=true}if(this.state.escaping===true){this.state.escaping=false}else{if(S!==null&&this.state.quoting===true&&this.__isEscape(I,k,t)&&k+S.length<T){if(x){if(this.__isQuote(I,k+S.length)){this.state.escaping=true;k+=S.length-1;continue}}else{this.state.escaping=true;k+=S.length-1;continue}}if(this.state.commenting===false&&this.__isQuote(I,k)){if(this.state.quoting===true){const r=I[k+E.length];const i=v&&this.__isCharTrimable(I,k+E.length);const o=O!==null&&this.__compareBytes(O,I,k+E.length,r);const a=this.__isDelimiter(I,k+E.length,r);const u=R.length===0?this.__autoDiscoverRecordDelimiter(I,k+E.length):this.__isRecordDelimiter(r,I,k+E.length);if(S!==null&&this.__isEscape(I,k,t)&&this.__isQuote(I,k+S.length)){k+=S.length-1}else if(!r||a||u||o||i){this.state.quoting=false;this.state.wasQuoting=true;k+=E.length-1;continue}else if(g===false){const t=this.__error(new CsvError("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(r)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(t!==undefined)return t}else{this.state.quoting=false;this.state.wasQuoting=true;this.state.field.prepend(E);k+=E.length-1}}else{if(this.state.field.length!==0){if(g===false){const t=this.__infoField();const r=Object.keys(h).map((t=>h[t].equals(this.state.field.toString())?t:false)).filter(Boolean)[0];const i=this.__error(new CsvError("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(t.column)} at line ${t.lines}, value is ${JSON.stringify(this.state.field.toString(u))}`,r?`(${r} bom)`:undefined],this.options,t,{field:this.state.field}));if(i!==undefined)return i}}else{this.state.quoting=true;k+=E.length-1;continue}}}if(this.state.quoting===false){const r=this.__isRecordDelimiter(t,I,k);if(r!==0){const t=this.state.commenting&&(this.state.wasQuoting===false&&this.state.record.length===0&&this.state.field.length===0);if(t){this.info.comment_lines++}else{if(this.state.enabled===false&&this.info.lines+(this.state.wasRowDelimiter===true?1:0)>=l){this.state.enabled=true;this.__resetField();this.__resetRecord();k+=r-1;continue}if(b===true&&this.state.wasQuoting===false&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++;k+=r-1;continue}this.info.bytes=this.state.bufBytesStart+k;const t=this.__onField();if(t!==undefined)return t;this.info.bytes=this.state.bufBytesStart+k+r;const a=this.__onRecord(i);if(a!==undefined)return a;if(y!==-1&&this.info.records>=y){this.state.stop=true;o();return}}this.state.commenting=false;k+=r-1;continue}if(this.state.commenting){continue}const a=O===null?0:this.__compareBytes(O,I,k,t);if(a!==0){this.state.commenting=true;continue}const u=this.__isDelimiter(I,k,t);if(u!==0){this.info.bytes=this.state.bufBytesStart+k;const t=this.__onField();if(t!==undefined)return t;k+=u-1;continue}}}if(this.state.commenting===false){if(m!==0&&this.state.record_length+this.state.field.length>m){return this.__error(new CsvError("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${m}`,`at line ${this.info.lines}`],this.options,this.__infoField()))}}const a=p===false||this.state.quoting===true||this.state.field.length!==0||!this.__isCharTrimable(I,k);const P=v===false||this.state.wasQuoting===false;if(a===true&&P===true){this.state.field.append(t)}else if(v===true&&!this.__isCharTrimable(I,k)){return this.__error(new CsvError("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()))}else{if(a===false){k+=this.__isCharTrimable(I,k)-1}continue}}if(r===true){if(this.state.quoting===true){const t=this.__error(new CsvError("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(t!==undefined)return t}else{if(this.state.wasQuoting===true||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+k;const t=this.__onField();if(t!==undefined)return t;const r=this.__onRecord(i);if(r!==undefined)return r}else if(this.state.wasRowDelimiter===true){this.info.empty_lines++}else if(this.state.commenting===true){this.info.comment_lines++}}}else{this.state.bufBytesStart+=k;this.state.previousBuf=I.slice(k)}if(this.state.wasRowDelimiter===true){this.info.lines++;this.state.wasRowDelimiter=false}},__onRecord:function(t){const{columns:r,group_columns_by_name:i,encoding:o,info:a,from:u,relax_column_count:l,relax_column_count_less:c,relax_column_count_more:d,raw:h,skip_records_with_empty_values:p}=this.options;const{enabled:m,record:_}=this.state;if(m===false){return this.__resetRecord()}const g=_.length;if(r===true){if(p===true&&isRecordEmpty(_)){this.__resetRecord();return}return this.__firstLineToColumns(_)}if(r===false&&this.info.records===0){this.state.expectedRecordLength=g}if(g!==this.state.expectedRecordLength){const t=r===false?new CsvError("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${g} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_}):new CsvError("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${r.length},`,`got ${g} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_});if(l===true||c===true&&g<this.state.expectedRecordLength||d===true&&g>this.state.expectedRecordLength){this.info.invalid_field_length++;this.state.error=t}else{const r=this.__error(t);if(r)return r}}if(p===true&&isRecordEmpty(_)){this.__resetRecord();return}if(this.state.recordHasError===true){this.__resetRecord();this.state.recordHasError=false;return}this.info.records++;if(u===1||this.info.records>=u){const{objname:u}=this.options;if(r!==false){const l={};for(let t=0,o=_.length;t<o;t++){if(r[t]===undefined||r[t].disabled)continue;if(i===true&&l[r[t].name]!==undefined){if(Array.isArray(l[r[t].name])){l[r[t].name]=l[r[t].name].concat(_[t])}else{l[r[t].name]=[l[r[t].name],_[t]]}}else{l[r[t].name]=_[t]}}if(h===true||a===true){const r=Object.assign({record:l},h===true?{raw:this.state.rawBuffer.toString(o)}:{},a===true?{info:this.__infoRecord()}:{});const i=this.__push(u===undefined?r:[l[u],r],t);if(i){return i}}else{const r=this.__push(u===undefined?l:[l[u],l],t);if(r){return r}}}else{if(h===true||a===true){const r=Object.assign({record:_},h===true?{raw:this.state.rawBuffer.toString(o)}:{},a===true?{info:this.__infoRecord()}:{});const i=this.__push(u===undefined?r:[_[u],r],t);if(i){return i}}else{const r=this.__push(u===undefined?_:[_[u],_],t);if(r){return r}}}}this.__resetRecord()},__firstLineToColumns:function(t){const{firstLineToHeaders:r}=this.state;try{const i=r===undefined?t:r.call(null,t);if(!Array.isArray(i)){return this.__error(new CsvError("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(i)}`],this.options,this.__infoField(),{headers:i}))}const o=normalize_columns_array(i);this.state.expectedRecordLength=o.length;this.options.columns=o;this.__resetRecord();return}catch(t){return t}},__resetRecord:function(){if(this.options.raw===true){this.state.rawBuffer.reset()}this.state.error=undefined;this.state.record=[];this.state.record_length=0},__onField:function(){const{cast:t,encoding:r,rtrim:i,max_record_size:o}=this.options;const{enabled:a,wasQuoting:u}=this.state;if(a===false){return this.__resetField()}let l=this.state.field.toString(r);if(i===true&&u===false){l=l.trimRight()}if(t===true){const[t,r]=this.__cast(l);if(t!==undefined)return t;l=r}this.state.record.push(l);if(o!==0&&typeof l==="string"){this.state.record_length+=l.length}this.__resetField()},__resetField:function(){this.state.field.reset();this.state.wasQuoting=false},__push:function(t,r){const{on_record:i}=this.options;if(i!==undefined){const r=this.__infoRecord();try{t=i.call(null,t,r)}catch(t){return t}if(t===undefined||t===null){return}}r(t)},__cast:function(t){const{columns:r,relax_column_count:i}=this.options;const o=Array.isArray(r);if(o===true&&i&&this.options.columns.length<=this.state.record.length){return[undefined,undefined]}if(this.state.castField!==null){try{const r=this.__infoField();return[undefined,this.state.castField.call(null,t,r)]}catch(t){return[t]}}if(this.__isFloat(t)){return[undefined,parseFloat(t)]}else if(this.options.cast_date!==false){const r=this.__infoField();return[undefined,this.options.cast_date.call(null,t,r)]}return[undefined,t]},__isCharTrimable:function(t,r){const isTrim=(t,r)=>{const{timchars:i}=this.state;e:for(let o=0;o<i.length;o++){const a=i[o];for(let i=0;i<a.length;i++){if(a[i]!==t[r+i])continue e}return a.length}return 0};return isTrim(t,r)},__isFloat:function(t){return t-parseFloat(t)+1>=0},__compareBytes:function(t,r,i,o){if(t[0]!==o)return 0;const a=t.length;for(let o=1;o<a;o++){if(t[o]!==r[i+o])return 0}return a},__isDelimiter:function(t,r,i){const{delimiter:o,ignore_last_delimiters:a}=this.options;if(a===true&&this.state.record.length===this.options.columns.length-1){return 0}else if(a!==false&&typeof a==="number"&&this.state.record.length===a-1){return 0}e:for(let a=0;a<o.length;a++){const u=o[a];if(u[0]===i){for(let i=1;i<u.length;i++){if(u[i]!==t[r+i])continue e}return u.length}}return 0},__isRecordDelimiter:function(t,r,i){const{record_delimiter:o}=this.options;const a=o.length;e:for(let u=0;u<a;u++){const a=o[u];const l=a.length;if(a[0]!==t){continue}for(let t=1;t<l;t++){if(a[t]!==r[i+t]){continue e}}return a.length}return 0},__isEscape:function(t,r,i){const{escape:o}=this.options;if(o===null)return false;const a=o.length;if(o[0]===i){for(let i=0;i<a;i++){if(o[i]!==t[r+i]){return false}}return true}return false},__isQuote:function(t,r){const{quote:i}=this.options;if(i===null)return false;const o=i.length;for(let a=0;a<o;a++){if(i[a]!==t[r+a]){return false}}return true},__autoDiscoverRecordDelimiter:function(t,r){const{encoding:i}=this.options;const o=[Buffer.from("\r\n",i),Buffer.from("\n",i),Buffer.from("\r",i)];e:for(let i=0;i<o.length;i++){const a=o[i].length;for(let u=0;u<a;u++){if(o[i][u]!==t[r+u]){continue e}}this.options.record_delimiter.push(o[i]);this.state.recordDelimiterMaxLength=o[i].length;return o[i].length}return 0},__error:function(t){const{encoding:r,raw:i,skip_records_with_error:o}=this.options;const a=typeof t==="string"?new Error(t):t;if(o){this.state.recordHasError=true;if(this.options.on_skip!==undefined){this.options.on_skip(a,i?this.state.rawBuffer.toString(r):undefined)}return undefined}else{return a}},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:t,raw:r,encoding:i}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:t===true,index:this.state.record.length,raw:r?this.state.rawBuffer.toString(i):undefined}},__infoField:function(){const{columns:t}=this.options;const r=Array.isArray(t);return{...this.__infoRecord(),column:r===true?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};const parse=function(t,r={}){if(typeof t==="string"){t=Buffer.from(t)}const i=r&&r.objname?{}:[];const o=transform(r);const push=t=>{if(o.options.objname===undefined)i.push(t);else{i[t[0]]=t[1]}};const close=()=>{};const a=o.parse(t,false,push,close);if(a!==undefined)throw a;const u=o.parse(undefined,true,push,close);if(u!==undefined)throw u;return i};r.CsvError=CsvError;r.parse=parse}};var __webpack_module_cache__={};function __nccwpck_require__(t){var r=__webpack_module_cache__[t];if(r!==undefined){return r.exports}var i=__webpack_module_cache__[t]={exports:{}};var o=true;try{__webpack_modules__[t].call(i.exports,i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete __webpack_module_cache__[t]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__=__nccwpck_require__(399);module.exports=__webpack_exports__})();